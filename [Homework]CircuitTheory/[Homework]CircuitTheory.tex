% 若编译失败，且生成 .synctex(busy) 辅助文件，可能有两个原因：
% 1. 需要插入的图片不存在：Ctrl + F 搜索 'figure' 将这些代码注释/删除掉即可
% 2. 路径/文件名含中文或空格：更改路径/文件名即可

% --------------------- 文章宏包及相关设置 --------------------- %
% >> ------------------ 文章宏包及相关设置 ------------------ << %
% 设定文章类型与编码格式
    \documentclass[UTF8]{report}		

% 本文专属的宏包
\usepackage{pdfpages}   % 用于导入 pdf 文件
\usepackage{titletoc}   % 用于设置 toc
\titlecontents{chapter}
              [0em]
              {\bf}%
              {}%   % \contentslabel{2.5em} 会显示宽为 2.5em 的章节编号
              {}%
              {\hfill \contentspage \vspace{10.5pt}}%
              []%



% 本 .tex 专属的宏定义
    \def\V{\ \mathrm{V}}
    \def\uV{\ \mu\mathrm{V}}
    \def\mV{\ \mathrm{mV}}
    \def\K{\ \mathrm{K}}
    \def\kV{\ \mathrm{KV}}
    \def\KV{\ \mathrm{KV}}
    \def\MV{\ \mathrm{MV}}
    \def\uA{\ \mu\mathrm{A}}
    \def\mA{\ \mathrm{mA}}
    \def\A{\ \mathrm{A}}
    \def\kA{\ \mathrm{KA}}
    \def\KA{\ \mathrm{KA}}
    \def\MA{\ \mathrm{MA}}
    \def\O{\ \Omega}
    \def\mO{\ \Omega}
    \def\kO{\ \mathrm{K}\Omega}
    \def\KO{\ \mathrm{K}\Omega}
    \def\MO{\ \mathrm{M}\Omega}
    \def\Hz{\ \mathrm{Hz}}
    \def\uF{\ \mu\mathrm{F}}
    \def\mF{\ \mathrm{mF}}
    \def\F{\ \mathrm{F}}

% 自定义宏定义
    \def\N{\mathbb{N}}
    %\def\F{\mathbb{F}}
    \def\Z{\mathbb{Z}}
    \def\Q{\mathbb{Q}}
    \def\R{\mathbb{R}}
    \def\C{\mathbb{C}}
    \def\T{\mathbb{T}}
    \def\S{\mathbb{S}}
    \def\A{\mathbb{A}}
    \def\I{\mathscr{I}}
    \def\Im{\mathrm{Im\,}}
    \def\Re{\mathrm{Re\,}}
    \def\d{\mathrm{d}}
    \def\p{\partial}

% 导入基本宏包
    \usepackage[UTF8]{ctex}     % 设置文档为中文语言
        \usepackage{hyperref}  % 宏包：自动生成超链接 (此宏包与标题中的数学环境冲突)
    \hypersetup{
        colorlinks=true,    % false:边框链接 ; true:彩色链接
        citecolor={blue},    % 文献引用颜色
        linkcolor={blue},   % 目录 (我们在目录处单独设置)，公式，图表，脚注等内部链接颜色
        urlcolor={magenta},    % 网页 URL 链接颜色，包括 \href 中的 text
        % cyan 浅蓝色 
        % magenta 洋红色
        % yellow 黄色
        % black 黑色
        % white 白色
        % red 红色
        % green 绿色
        % blue 蓝色
        % gray 灰色
        % darkgray 深灰色
        % lightgray 浅灰色
        % brown 棕色
        % lime 石灰色
        % olive 橄榄色
        % orange 橙色
        % pink 粉红色
        % purple 紫色
        % teal 蓝绿色
        % violet 紫罗兰色
    }
    % \usepackage{docmute}    % 宏包：子文件导入时自动去除导言区，用于主/子文件的写作方式，\include{./51单片机笔记}即可。注：启用此宏包会导致.tex文件capacity受限。
    \usepackage{amsmath}    % 宏包：数学公式
    \usepackage{mathrsfs}   % 宏包：提供更多数学符号
    \usepackage{amssymb}    % 宏包：提供更多数学符号
    \usepackage{pifont}     % 宏包：提供了特殊符号和字体
    \usepackage{extarrows}  % 宏包：更多箭头符号


% 文章页面margin设置
    \usepackage[a4paper]{geometry}
        \geometry{top=1in}
        \geometry{bottom=1in}
        \geometry{left=0.75in}
        \geometry{right=0.75in}   % 设置上下左右页边距
        \geometry{marginparwidth=1.75cm}    % 设置边注距离（注释、标记等）

% 配置数学环境
    \usepackage{amsthm} % 宏包：数学环境配置
    %\everymath{\displaystyle}   % 设置全文数学公式都为展示样式
    % theorem-line 环境自定义
        \newtheoremstyle{MyLineTheoremStyle}% <name>
            {11pt}% <space above>
            {11pt}% <space below>
            {\kaishu}% <body font> 使用默认正文字体
            {}% <indent amount>
            {\bfseries}% <theorem head font> 设置标题项为加粗
            {：}% <punctuation after theorem head>
            {.5em}% <space after theorem head>
            {\textbf{#1}\thmnumber{#2}\ \ (\,\textbf{#3}\,)}% 设置标题内容顺序
        \theoremstyle{MyLineTheoremStyle} % 应用自定义的定理样式
        \newtheorem{LineTheorem}{Theorem.\,}
    % theorem-block 环境自定义
        \newtheoremstyle{MyBlockTheoremStyle}% <name>
            {11pt}% <space above>
            {11pt}% <space below>
            {\kaishu}% <body font> 使用默认正文字体
            {}% <indent amount>
            {\bfseries}% <theorem head font> 设置标题项为加粗
            {：\\ \indent}% <punctuation after theorem head>
            {.5em}% <space after theorem head>
            {\textbf{#1}\thmnumber{#2}\ \ (\,\textbf{#3}\,)}% 设置标题内容顺序
        \theoremstyle{MyBlockTheoremStyle} % 应用自定义的定理样式
        \newtheorem{BlockTheorem}[LineTheorem]{Theorem.\,} % 使用 LineTheorem 的计数器
    % definition 环境自定义
        \newtheoremstyle{MySubsubsectionStyle}% <name>
            {11pt}% <space above>
            {11pt}% <space below>
            {}% <body font> 使用默认正文字体
            {}% <indent amount>
            {\bfseries}% <theorem head font> 设置标题项为加粗
            {：\\ \indent}% <punctuation after theorem head>
            {0pt}% <space after theorem head>
            {\textbf{#3}}% 设置标题内容顺序
        \theoremstyle{MySubsubsectionStyle} % 应用自定义的定理样式
        \newtheorem{definition}{}

%宏包：有色文本框（proof环境）及其设置
    \usepackage{xcolor}    %设置插入的文本框颜色
    \usepackage[strict]{changepage}     % 提供一个 adjustwidth 环境
    \usepackage{framed}     % 实现方框效果
        \definecolor{graybox_color}{rgb}{0.95,0.95,0.96} % 文本框颜色。修改此行中的 rgb 数值即可改变方框纹颜色，具体颜色的rgb数值可以在网站https://colordrop.io/ 中获得。（截止目前的尝试还没有成功过，感觉单位不一样）（找到喜欢的颜色，点击下方的小眼睛，找到rgb值，复制修改即可）
        \newenvironment{graybox}{%
        \def\FrameCommand{%
        \hspace{1pt}%
        {\color{gray}\small \vrule width 2pt}%
        {\color{graybox_color}\vrule width 4pt}%
        \colorbox{graybox_color}%
        }%
        \MakeFramed{\advance\hsize-\width\FrameRestore}%
        \noindent\hspace{-4.55pt}% disable indenting first paragraph
        \begin{adjustwidth}{}{7pt}%
        \vspace{2pt}\vspace{2pt}%
        }
        {%
        \vspace{2pt}\end{adjustwidth}\endMakeFramed%
        }

% 外源代码插入设置
    % matlab 代码插入设置
    \usepackage{matlab-prettifier}
        \lstset{style=Matlab-editor}    % 继承 matlab 代码高亮 , 此行不能删去
    \usepackage[most]{tcolorbox} % 引入tcolorbox包 
    \usepackage{listings} % 引入listings包
        \tcbuselibrary{listings, skins, breakable}
        \newfontfamily\codefont{Consolas} % 定义需要的 codefont 字体
        \lstdefinestyle{MatlabStyle_inc}{   % 插入代码的样式
            language=Matlab,
            basicstyle=\small\ttfamily\codefont,    % ttfamily 确保等宽 
            breakatwhitespace=false,
            breaklines=true,
            captionpos=b,
            keepspaces=true,
            numbers=left,
            numbersep=15pt,
            showspaces=false,
            showstringspaces=false,
            showtabs=false,
            tabsize=2,
            xleftmargin=15pt,   % 左边距
            %frame=single, % single 为包围式单线框
            frame=shadowbox,    % shadowbox 为带阴影包围式单线框效果
            %escapeinside=``,   % 允许在代码块中使用 LaTeX 命令 (此行无用)
            %frameround=tttt,    % tttt 表示四个角都是圆角
            framextopmargin=0pt,    % 边框上边距
            framexbottommargin=0pt, % 边框下边距
            framexleftmargin=5pt,   % 边框左边距
            framexrightmargin=5pt,  % 边框右边距
            rulesepcolor=\color{red!20!green!20!blue!20}, % 阴影框颜色设置
            %backgroundcolor=\color{blue!10}, % 背景颜色
        }
        \lstdefinestyle{MatlabStyle_src}{   % 插入代码的样式
            language=Matlab,
            basicstyle=\small\ttfamily\codefont,    % ttfamily 确保等宽 
            breakatwhitespace=false,
            breaklines=true,
            captionpos=b,
            keepspaces=true,
            numbers=left,
            numbersep=15pt,
            showspaces=false,
            showstringspaces=false,
            showtabs=false,
            tabsize=2,
        }
        \newtcblisting{matlablisting}{
            %arc=2pt,        % 圆角半径
            % 调整代码在 listing 中的位置以和引入文件时的格式相同
            top=0pt,
            bottom=0pt,
            left=-5pt,
            right=-5pt,
            listing only,   % 此句不能删去
            listing style=MatlabStyle_src,
            breakable,
            colback=white,   % 选一个合适的颜色
            colframe=black!0,   % 感叹号后跟不透明度 (为 0 时完全透明)
        }
        \lstset{
            style=MatlabStyle_inc,
        }

% table 支持
    \usepackage{booktabs}   % 宏包：三线表
    \usepackage{tabularray} % 宏包：表格排版
    \usepackage[longtable]{multirow} % 宏包：multi 行列
    \usepackage{longtable}  % 宏包：长表格

% figure 设置
    \usepackage{graphicx}  % 支持 jpg, png, eps, pdf 图片 
    \usepackage{svg}       % 支持 svg 图片
        \svgsetup{
            % 指向 inkscape.exe 的路径
            inkscapeexe = C:/aa_MySame/inkscape/bin/inkscape.exe, 
            % 一定程度上修复导入后图片文字溢出几何图形的问题
            inkscapelatex = false                 
        }
    \usepackage{subcaption} % 支持子图

% 图表进阶设置
    \usepackage{caption}    % 图注、表注
        \captionsetup[figure]{name=图}  
        \captionsetup[table]{name=表}
        \captionsetup{
            labelfont=bf, % 设置标签为粗体
            textfont=bf,  % 设置文本为粗体
            font=small  
            }
    \usepackage{float}     % 图表位置浮动设置 
    \usepackage{etoolbox} % 用于保证图注表注的数学字符为粗体
        \AtBeginEnvironment{figure}{\boldmath} % 图注中的数学字符为粗体
        \AtBeginEnvironment{table}{\boldmath}  % 表注中的数学字符为粗体
        \AtBeginEnvironment{tabular}{\unboldmath}   % 保证表格中的数学字符不受额外影响
% 圆圈序号自定义
    \newcommand*\circled[1]{\tikz[baseline=(char.base)]{\node[shape=circle,draw,inner sep=0.8pt, line width = 0.03em] (char) {\small \bfseries #1};}}   % TikZ solution

% 列表设置
    \usepackage{enumitem}   % 宏包：列表环境设置
        \setlist[enumerate]{itemsep=0pt, parsep=0pt, topsep=0pt, partopsep=0pt, leftmargin=3.5em} 
        \setlist[itemize]{itemsep=0pt, parsep=0pt, topsep=0pt, partopsep=0pt, leftmargin=3.5em}
        \newlist{circledenum}{enumerate}{1} % 创建一个新的枚举环境  
        \setlist[circledenum,1]{  
            label=\protect\circled{\arabic*}, % 使用 \arabic* 来获取当前枚举计数器的值，并用 \circled 包装它  
            ref=\arabic*, % 如果需要引用列表项，这将决定引用格式（这里仍然使用数字）
            itemsep=0pt, parsep=0pt, topsep=0pt, partopsep=0pt, leftmargin=3.5em
        }  
    

% 文章默认字体设置
    \usepackage{fontspec}   % 宏包：字体设置
        \setmainfont{SimSun}    % 设置中文字体为宋体字体
        \setCJKmainfont[AutoFakeBold=3]{SimSun} % 设置加粗字体为 SimSun 族，AutoFakeBold 可以调整字体粗细
        \setmainfont{Times New Roman} % 设置英文字体为Times New Roman


% 文章序言设置
    \newcommand{\cnabstractname}{序言}
    \newenvironment{cnabstract}{%
        \par\Large
        \noindent\mbox{}\hfill{\bfseries \cnabstractname}\hfill\mbox{}\par
        \vskip 2.5ex
        }{\par\vskip 2.5ex}

% 参考文献引用设置
    \bibliographystyle{unsrt}   % 设置参考文献引用格式为unsrt
    \newcommand{\upcite}[1]{\textsuperscript{\cite{#1}}}     % 自定义上角标式引用

% 各级标题自定义设置
    \usepackage{titlesec}   
    % chapter
        \titleformat{\chapter}[hang]{\normalfont\Large\bfseries\centering\boldmath}{}{10pt}{}
        %\titleformat{\chapter}[hang]{\normalfont\Large\bfseries\centering\boldmath}{Homework \thechapter :}{10pt}{}
        \titlespacing*{\chapter}{0pt}{-30pt}{10pt} % 控制上方空白的大小
    % section
        \titleformat{\section}[hang]{\normalfont\large\bfseries\boldmath}{\thesection}{8pt}{}
    % subsection
        % 设置 subsection 样式为 (1) (2) (3)
        \renewcommand{\thesubsection}{(\arabic{subsection})}    
        \titleformat{\subsection}[hang]{\normalfont\bfseries\boldmath}{\thesubsection}{8pt}{}


% --------------------- 文章宏包及相关设置 --------------------- %
% >> ------------------ 文章宏包及相关设置 ------------------ << %



% ------------------------ 文章信息区 ------------------------ %
% >> --------------------- 文章信息区 --------------------- << %
% 页眉页脚设置
\usepackage{fancyhdr}   %宏包：页眉页脚设置
    \pagestyle{fancy}
    \fancyhf{}
    \cfoot{\thepage}
    \renewcommand\headrulewidth{1pt}
    \renewcommand\footrulewidth{0pt}
    \chead{电路原理课程作业,\ 丁毅}
    \usepackage{fontawesome}    % 宏包：更多符号与图标 (用于插入 GitHub 图标等)
    \lhead{
    \href{https://github.com/YiDingg/LatexNotes}{\color{black}\faGithub\ https://github.com/YiDingg/LatexNotes}
    }
    \rhead{dingyi233@mails.ucas.ac.cn}

%文档信息设置
\title{电路原理课程作业\\ Homework of Principles of Electric Circuits }
\author{丁毅\\ \footnotesize 中国科学院大学，北京 100049\\ Yi Ding \\ \footnotesize University of Chinese Academy of Sciences, Beijing 100049, China}
\date{\footnotesize 2024.8 -- 2025.1}
% >> --------------------- 文章信息区 --------------------- << %
% ------------------------ 文章信息区 ------------------------ %

% 开始编辑文章

\begin{document}
\zihao{5}           % 设置全文字号大小

% ------------------------ 封面序言与目录 ------------------------ %
% >> --------------------- 封面序言与目录 --------------------- << %
% 封面
    \maketitle\newpage  
    \pagenumbering{Roman} % 页码为大写罗马数字
    \thispagestyle{fancy}   % 显示页码、页眉等

% 序言
    \begin{cnabstract}\normalsize 
        本文为笔者本科时的“电路原理”课程作业（Homework of Principles of Electric Circuits, 2024.9-2025.1）。所有作业课件已上传到网址 \href{https://www.123865.com/s/0y0pTd-R8Kj3}{https://www.123865.com/s/0y0pTd-R8Kj3}（包括 Homework, Simulation 和 Laboratory）。读者可在笔者的个人网站 \href{https://yidingg.github.io/YiDingg/\#/Notes/MajorCourses/CircuitTheoryNotes}{https://yidingg.github.io/YiDingg/\#/Notes/MajorCourses/CircuitTheoryNotes} 上找到课程信息、教材、教辅和作业答案等相关资料。

        由于个人学识浅陋，认识有限，文中难免有不妥甚至错误之处，望读者不吝指正。读者可以将错误发送到我的邮箱 {\color{blue}\ dingyi233@mails.ucas.ac.cn}，也可以到笔者的 \href{https://github.com/YiDingg/LatexNotes}{GitHub (https://github.com/YiDingg/LatexNotes)} 上提 issue，衷心感谢。
    \end{cnabstract}
    \addcontentsline{toc}{chapter}{序言} % 手动添加到目录



%\listoftables
%\listoffigures
    \clearpage
    \setcounter{tocdepth}{0}
    \tableofcontents\thispagestyle{fancy}   % 显示页码、页眉等  
    \addcontentsline{toc}{chapter}{目录} % 手动添加到目录



% 收尾工作
    \newpage    
    %\rhead{Homework \thechapter}
    \pagenumbering{arabic} 

% >> --------------------- 封面序言与目录 --------------------- << %
% ------------------------ 封面序言与目录 ------------------------ %

\chapter{Homework 1: 2024.8.27 - 2024.9.2}
\rhead{Homework 1: 2024.8.27 - 2024.9.2}
\thispagestyle{fancy}

\section{习题集 1-2: 求题图各电路中的电压 $U$ 和电流 $I$}

\begin{enumerate}
\item[(a)] 短路，因此 $U = 0,\  I = \frac{U_S}{R_i}$
\item[(b)] 开路，因此 $U = U_s, \ I = 0$
\item[(c)] 构成回路，因此  $ U = \frac{U_SR}{R + R_i},\ I = \frac{U_S}{R + R_i}$ 
\end{enumerate}

\begin{figure}[H]\centering
\includegraphics[width=0.6\textwidth]{assets/1/ae1cfc03fad5c98bfff08a663714a004.png}
\caption{ 1.1 习题集 1-2}
\end{figure}

\section{习题集 1-9: 求题图 (a) 中的电压 $U_{ab}$，图 (b) 中的电阻 $R$，图 (c) 中的电压 $U_S$ 和图 (d) 中的电流 $I$}

\begin{enumerate}
    \item[(a)]  $ \varphi_a - 3\ \mathrm{V} + 2\ \mathrm{V} = \varphi_b \Longrightarrow U_{ab} = 1\ \mathrm{V} $ 
    \item[(b)] $I = 1\ \mathrm{A},\  3 -IR= -4 \Longrightarrow R = 7\ \Omega$ 
    \item[(c)] $-3 + U_S = 1 \Longrightarrow U_S = 4 \ \mathrm{V}$ 
    \item[(d)] $R=2\ \Omega,\ -IR + 2 = 3 \Longrightarrow I = -0.5\ \mathrm{A}$ 
\end{enumerate}

\begin{figure}[H]\centering
    \includegraphics[width=0.6\textwidth]{assets/1/d3d69ecd6b1c1bc476fd4a4957fb9e56.png}
\caption{ 1.2 习题集 1-9}
\end{figure}

\section{习题集 1-10: 求题图电路中的电压 $U_{ab}$}



\begin{enumerate}
\item[(a)] 
记参考点 a 的电势 $\varphi_a=0$，则 $\varphi_c = 2\ \mathrm{V} ,\ \varphi_b = -2\ \mathrm{V}$，因此 $U_{ab} = 2\ \mathrm{V}$

\item[(b)] 
记参考点 d 的电势 $\varphi_d = \varphi_b =0$，则 $\varphi_c = 6\ \mathrm{V},\ \varphi_a = -2\ \mathrm{V}$，因此 $U_{ab} = -2\ \mathrm{V}$

\end{enumerate}

\begin{figure}[H]\centering
\includegraphics[width=0.55\textwidth]{assets/1/9dda9e5f333b8cb7f498d15c015e5fd0.png}
\caption{ 1.3 习题集 1-10}
\end{figure}
{\par\color{gray}\small
后补：(b) 中电流源两端仍有电势差，$\varphi_c \ne 6 \ \mathrm{V}$ 而是 $ \varphi_c = -3\ \mathrm{V} $，最终得 $U_{ab} = -5 \ \mathrm{V}$。
\par}


\section{习题集 1-15: 求题图各电路汇总所标出的电压和电流}

\begin{enumerate}
    \item[(a)] $I = -\frac{U}{R} + 4\ \mathrm{A} = -2 \ \mathrm{A}$
    \item[(b)] $U =12 \ \mathrm{V} + 3\ \Omega \times 4 \ \mathrm{A} = 0 $ 
    \item[(c)] $I = 8 \ \mathrm{A} - 6\ \mathrm{A} = 2 \ \mathrm{A}$，$ U = 12 \ \mathrm{V} + 3\times8 \ \mathrm{V} = 36 \ \mathrm{V}$ 
    \item[(d)] 取点 $ d $ 为参考点，则 $\varphi_d = \varphi_c = 0$，$\varphi_b = \varphi_a = 9 \ \mathrm{V}$，于是 $U_1 = 9 + 2\times3 = 15\ \mathrm{V},\ U_2 = 9 + 2\times 2 = 13 \ \mathrm{V},\ I =2 -  (9-3) = - 4 \ \mathrm{A}$
\end{enumerate}

\begin{figure}[H]\centering
\includegraphics[width=0.7\textwidth]{assets/1/b82ef4f3b4efd9d0ee903e5f19353345.png}
\caption{ 1.4 习题集 1-15}
\end{figure}

\section{习题集 1-29: 题图电路中流过 $40\ \Omega$ 电阻的电流为 $2$ A，求电流源的电流值 $I_S$}

取点 $a$ 为参考点 $\varphi_a = 0$，可得 $\varphi_b = 100U_1 - 80$，于是在结点 $a$ 有电流：
\begin{equation*}
I_S + \frac{100U_1 - 80}{5} = 2
\end{equation*}

$0.2\ \Omega$ 电阻处又有 $U_1 = 0.2 I_S$，联立解得 $I_S = 3.6 \ \mathrm{A}, U_1 = 7.2 \ \mathrm{V}$。

\section{习题集 1-30: 求题图电路中独立电源的功率}

这里要注意左二元器件是受控电流源，因此 $0.5U$ 是指电流大小而非电压。$I_1$ 处可列出方程：

\begin{equation*}
\frac{U}{2} + 12 - \frac{U}{3} = 0.5U \Longrightarrow U = 36 \ \mathrm{V} \Longrightarrow P = UI = 432 \ \mathrm{W}
\end{equation*}

\begin{figure}[H]\centering
\includegraphics[width=0.7\textwidth]{assets/1/94b342032a5f6622a60b3c9d99e37993.png}
\caption{ 1.4 习题集 1-29 和 1.5 习题集 1-30}
\end{figure}

{\par\color{gray}\small
后补：上面的方程列错了，错将 $I_1$ 的方向标为由左向右，应该是由右向左。最后得到 $P = 108\ \mathrm{W}$。另外，也可以直接将受控电流源看作是 2 $\Omega$ 的电阻，这样左侧三个电阻并联，也可求出正确答案 108 W.
\par}


\section{讲义题 1-6: 关联参考方向下，电阻的 $\alpha > 90^\circ$ 代表什么物理意义}

$\alpha > 90 \text{\textdegree}$ 时，电阻为“负电阻”。

\section{讲义题 1-7: 充电电池的 1 C 是什么意思，涓流充电是多少 C，快速充电是多少 C}


\begin{definition}[充放电倍率 C 的含义]
C （充放电倍率）表示电池充放电时电流相对电池容量的大小数值，$\mathrm{C} = \frac{\text{电池容量}}{\text{充放电所需时间}}$。例如，1 C 电流充电表示电池需要 1 小时充满，5 C 充电表示电池需要 $0.2$ 小时充满。放电也是类似的，一个 10 Ah 的电池以 2 C 放电，表示以 20 A 的电流放电 0.5 h。 \par
若倍率上升，总时间就会下降，若倍率下降，总时间就会上升。通俗来讲，$C$ 代表了电池的爆发力大小，高倍率的动力电池瞬间放电电流大，特别适合大电流放电产品使用，如航模。
\end{definition}


\begin{definition}[涓流充电]
涓流充电是指在电池接近完全充满电后，采用非常小的电流进行充电，以弥补电池自放电造成的容量损失。理论倍率 C 约为 最大倍率 $\mathrm{C_{max}}$ 的 $\frac{1}{100}$ 至 $\frac{1}{1000}$，但由于倍率太小，常常根本无法充电，一个比较好的方法是脉冲式充电，例如以 $\frac{\mathrm{C_{max}}}{10}$ 充电 6 s，然后停止充电 54 s。
\end{definition}


\begin{definition}[快速充电]
快速充电至少要求 1 C，现阶段的快速充电多在 1.5 C 至 2 C 之间。
\end{definition}


\section{讲义题 1-8（Multisim 仿真）: 用 Multisim 实现课堂仿真中的 MOSFET。画出 $U_{GS}$ 固定为 5 V，$U_{DS}$（横轴）从 0 V 到 12 V 变化时 $I_{DS}$（纵轴）的曲线；以及 $U_{DS}$ 固定为 10 V，$U_{GS}$（横轴）从 0 至 10 V 变化时 $I_{DS}$（纵轴）的曲线}

仿真电路如图 \ref{仿真电路图} 所示，

\begin{figure}[H]\centering
\includegraphics[width=0.36\textwidth]{assets/1/5c45ed5b5258df3fa8e1babac4a7ace2.png}
\caption{\textbf{仿真电路图}}\label{仿真电路图}
\end{figure}

先固定 $U_{GS} = 5\ \mathrm{V}$ 不变（即 $V_1 = 5\ \mathrm{V}$），横坐标 $U_{DS} \in [0\ \mathrm{V},\ 12\ \mathrm{V}]$，画出 $I_{DS}$（即 $I_2$）的变化曲线，如图 \ref{仿真结果1} 所示。再固定 $U_{DS} = 10\ \mathrm{V}$ 不变（即 $V_2 = 10\ \mathrm{V}$），横坐标 $U_{GS} \in [0\ \mathrm{V},\ 10\ \mathrm{V}]$，画出 $I_{DS}$（即 $I_2$）的变化曲线，如图 \ref{仿真结果2} 所示。
\begin{center}
    \noindent\begin{minipage}{0.42\textwidth}
        \begin{figure}[H]\centering
        \includegraphics[width=\textwidth]{assets/1/2024-08-30_00-57-32.pdf}
        \caption{\textbf{仿真结果1}}\label{仿真结果1}
        \end{figure}
    \end{minipage}\hspace{5mm}
    \begin{minipage}{0.42\textwidth}
        \begin{figure}[H]\centering
        \includegraphics[width=\textwidth]{assets/1/2024-08-30_00-57-34.pdf}
    \caption{\textbf{仿真结果2}}\label{仿真结果2}
    \end{figure}
    \end{minipage}
\end{center}



\chapter{Homework 2: 2024.9.3 - 2024.9.9}
\rhead{Homework 2: 2024.9.3 - 2024.9.9}
\thispagestyle{fancy}

\section{习题集 1-33: 题图电路中 $R_1 = 40$，$R_e = 27$，$R_b = 150$，$R_L = 1500$，单位都为 $\Omega$，$\alpha = 0.98$，求电压增益 $\frac{u_2}{u_1}$ 和功率增益 $\frac{p_2}{p_1}$，其中 $p_1$ 是 $u_1$ 输出的功率，$p_2$ 是 $R_L$ 吸收的功率}
左半边回路有：
\begin{gather*}
u_1 - 67i_e - (1-\alpha)i_e \cdot 150 = 0 \Longrightarrow \frac{u_2}{u_1} = \frac{\alpha i_eR_L }{70i_e} = \frac{0.98\times 1500}{70} = 21 \\ 
p_2 = (\alpha i_e)^2R_L, \quad p_1 = u_1 i_e \Longrightarrow \frac{p_2}{p_1} = \frac{(\alpha i_e)^2R_L}{70i_e^2} = 20.58
\end{gather*}

\begin{figure}[H]\centering
\includegraphics[width=0.5\textwidth]{assets/2/image (47).jpg}
\caption{\textbf{习题集 1-33}}
\end{figure}


\section{习题集 2-2: 求题图各电路的入端电阻 $R$}
对图 (a)，化简并联后电桥平衡，可以得到
\begin{equation*}
\frac{1}{R} = \frac{1}{20 } + \frac{1}{40} +\frac{1}{40} \Longrightarrow R = 10\ \Omega
\end{equation*}
对图 (b)，经过多次并联化简，可以得到：
\begin{equation}
R = 8 + \frac{3\times 6}{3+6}=10\ \Omega
\end{equation}
\begin{figure}[H]\centering
\includegraphics[width=0.85\textwidth]{assets/2/e02c39d3f229a4b6352b828e57c3737f.jpg}
\caption{\textbf{习题集 2-2}}
\end{figure}

\section{习题集 2-6: 将题图中各电路化为最简电路}

各电路的最简电路图如图 \ref{习题集 2-6 解答} 所示： 

\noindent\begin{minipage}{0.50\textwidth}
    \begin{figure}[H]\centering
        \includegraphics[height=185pt]{assets/2/bfc7d58924b9eaf9582656c984bd2c3b.jpg}
        \caption{\textbf{习题集 2-6}}
    \end{figure}
\end{minipage}\hfill
\begin{minipage}{0.50\textwidth}
    \begin{figure}[H]\centering
        \includegraphics[height=185pt]{assets/2/2-6.drawio.pdf}
        \caption{\textbf{习题集 2-6 解答}}\label{习题集 2-6 解答}
    \end{figure}        
\end{minipage}


\section{习题集 2-8: 用电源等效方法求题图中的电流 $i$}

对原电路进行多次等效转换，得到最简电路如图所示，进而有：
\begin{equation*}
I = \frac{3}{2+3+5} = 0.3\ \mathrm{A}
\end{equation*}

\noindent\begin{minipage}{0.49\textwidth}
    \begin{figure}[H]\centering
        \includegraphics[height=110pt]{assets/2/78abd22edee32bbd38134d510246a9ab.jpg}
        \caption{\textbf{习题集 2-8}}
    \end{figure}
\end{minipage}\hfill
\begin{minipage}{0.49\textwidth}
\begin{figure}[H]\centering
\includegraphics[height=110pt]{assets/2/2-8.drawio.pdf}
\caption{\textbf{习题集 2-8 等效电路}}\label{习题集 2-8 等效电路}
\end{figure}
\end{minipage}

\section{习题集 2-11: 求题图中的电流 $I$}

等效电路图如图 \ref{习题集 2-11 等效电路} 所示，由 KVL 得：
\begin{gather*}
28 = 4I' + 4(I' - I),\quad 25 = -8I + 4(I' - I) \Longrightarrow I' = 2.95\ \mathrm{A},\ I = -1.1\ \mathrm{A}
\end{gather*}


\noindent\begin{minipage}{0.55\textwidth}
\begin{figure}[H]\centering
\includegraphics[height=105pt]{assets/2/1187c3e12fa1e6bd8d2019d53bd2752a.jpg}
\caption{\textbf{习题集 2-11}}
\end{figure}
\end{minipage}\hfill
\begin{minipage}{0.43\textwidth}
\begin{figure}[H]\centering
\includegraphics[height=105pt]{assets/2/2-11.drawio.pdf}
\caption{\textbf{习题集 2-11 等效电路}}\label{习题集 2-11 等效电路}
\end{figure}
\end{minipage}

\section{习题集 2-17: 求题图中的电压 $U_{ab}$}

等效电路图如图 \ref{2-17} 所示，可以求得：
\begin{equation*}
4I - 8 = 12(I-1) \Longrightarrow I = 0.5\ \mathrm{A}\Longrightarrow U_{ab} = 8 - 8I = 4\ \mathrm{V}
\end{equation*}


\noindent\begin{minipage}{0.49\textwidth}
\begin{figure}[H]\centering
\includegraphics[height=120pt]{assets/2/78473b1c403974e048249bbdbf6a152f.jpg}
\caption{\textbf{习题集 2-17}}
\end{figure}
\end{minipage}\hfill
\begin{minipage}{0.49\textwidth}
\begin{figure}[H]\centering
\includegraphics[height=120pt]{assets/2/2-17.drawio.pdf}
\caption{\textbf{习题集 2-17 等效电路}}\label{2-17}
\end{figure}
\end{minipage}



\section{习题集 2-22: 求题图中的电压 $U_1$，$U_2$ 和电流源发出的功率}

经过电源等效和 $\Delta$-Y 变换，等效电路图如图 \ref{2-22} 所示，回路总电阻 $R = 3 + \frac{4}{9} + \frac{14}{9} = 5\ \Omega$，\ $I_1 = \frac{U}{R} = 1.2\ \mathrm{A}$，则有：
\begin{equation*}
U_1 = 6 - 3\times 1.2 = 2.4\ \mathrm{V},\ U_2 = 2\times \frac{I}{2} = 1.2\ \mathrm{V},\quad P = 2 U_1 = 4.8\ \mathrm{W}
\end{equation*}

\noindent\begin{minipage}{0.49\textwidth}
\begin{figure}[H]\centering
\includegraphics[height=110pt]{assets/2/0c8d1f0fb90ef6983c0aef6451919e4b.jpg}
\caption{\textbf{习题集 2-22}}
\end{figure}
\end{minipage}\hfill
\begin{minipage}{0.49\textwidth}
\begin{figure}[H]\centering
\includegraphics[height=110pt]{assets/2/2-22.drawio.pdf}
\caption{\textbf{习题集 2-22}}\label{2-22}
\end{figure}
\end{minipage}

%\newpage
%\section{\color[rgb]{0.2,0.9,0.2}（非作业） 习题集 2-4 (b)}
%\section{\color[rgb]{0.2,0.9,0.2}（非作业） 习题集 2-5}
%\section{\color[rgb]{0.2,0.9,0.2}（非作业） 习题集 2-5}



\chapter{Homework 3: 2024.9.10 - 2024.9.18}
\rhead{Homework 3: 2024.9.10 - 2024.9.18}
\thispagestyle{fancy}


\section{习题集 3-40（书上答案不正确）: 题图电路中，$u_s(t) = \sin 4t\ \mathrm{V} $，电阻 $R_2 = 2R_1 = 1 \kO$，求电流 $i(t)$}

由虚短和虚断，可以得到 $R_1$ 处电流为 $i_1 = \frac{u_s}{R_1}$（从上至下），于是输出电压 $u_o = 3u_s$，右侧负载由三个电阻构成，并联电阻分压 $2u_s$，最后得电流 $i(t)$:
\begin{equation}
i(t) = \frac{2u_s}{6 \KO} = \frac{u_s}{3} \mA
\end{equation}

\begin{figure}[H]\centering
\includegraphics[width=0.35\textwidth]{assets/3/3-40.jpg}
\caption{ 习题集 3-40}
\end{figure}

\section{习题集 3-45（注意题目单位是 S）: 对题图电路，求电压增益 $\frac{U_o}{U_i}$ 和入端电阻 $R_i$}

如图所示，将电导全部转换为电阻。由虚断、虚短，流经 $\frac{1}{10}\ \Omega$ 电阻的电流为 $i_1 = \frac{u_s}{0.1\ \Omega} = 10u_s$。右下角两电阻分压，再由虚短可得 $i_2 = 2U_o$，于是 $i_3 = i_1 + i_2 = 10 U_s + 2U_o$，由 KVL:
\begin{equation}
0 - \frac{1}{3}(10 U_s + 2U_o) = U_o \Longrightarrow  \frac{U_o}{U_s} = -2
\end{equation}
入端电阻 $R_i$: 
\begin{equation}
    i_1 = 10U_s \Longrightarrow  R_i = \frac{1}{10}\ \Omega
\end{equation}

\section{习题集 3-46: 题图电路中，$R_1 = R_2 = R_3 = R_4 = R_o = R_L$，求在输入电压 $u_i$ 作用下的负载电流 $i_L$}

依据 KVL、KCL、虚短、虚断，标出各节点电势，如图所示。则有：
\begin{equation}
(u_i+u_o)-u_o = i_LR,\ i_L = \frac{u_o}{R_L} \Longrightarrow u_o = u_i,\ i_L = \frac{u_o}{R_L} = \frac{u_i}{R_L}
\end{equation}

\begin{figure}[H]\centering
    \begin{subfigure}[t]{0.43\textwidth}\centering
        \includegraphics[height=130pt]{assets/3/3-45.png}
        \caption{ 习题集 3-45 }
    \end{subfigure}\begin{subfigure}[t]{0.43\textwidth}\centering
        \includegraphics[height=130pt]{assets/3/3-46.png}
        \caption{ 习题集 3-46 }
    \end{subfigure}
    \caption{ 习题集 3-45 和习题集 3-46 }
    \end{figure}
    


\section{讲义题 2-19: 求同相比例放大器和反向比例放大器的输入电阻和输出电阻，放大器均理想，根据求解结果讨论两种放大器的优劣}
\textbf{(1)\ 反相比例放大器}

对输入电阻，$i_1 = \frac{u_i}{R_1} \Longrightarrow R_i = R_1$。对输出电阻，将输入电压源短路，采用加流求压法，在输出端接入电流源，由 $u = iR$ 且 $u=0$，得 $R_o = 0$。也即：
\begin{equation}
R_i = R_1,\ R_o = 0
\end{equation}

\textbf{(2)\ 同相比例放大器}

对输入电阻，$R_1$ 右端断路，因此 $R_i = \infty$。对输出电阻，将输入电压源短路，采用加流求压法，在输出端接入电流源，由 $u = iR$ 且 $u=0$，得 $R_o = 0$。也即：
\begin{equation}
R_i = \infty,\ R_o = 0
\end{equation}

从输入输出电阻特性来看，同相比例放大器电气特性更优秀。

\begin{figure}[H]\centering
\begin{subfigure}[t]{0.4\textwidth}\centering
    \includegraphics[height=90pt]{assets/3/反向比例放大器.png}
    \caption{ 同相比例放大器}
\end{subfigure}\begin{subfigure}[t]{0.4\textwidth}\centering
    \includegraphics[height=90pt]{assets/3/同相比例放大器.png}
    \caption{ 反向比例放大器}
\end{subfigure}
\caption{ 讲义题 2-19}
\end{figure}

\section{讲义题 2-20: 求题图各网络的 $\boldsymbol{G}$ 参数}
\textbf{(a)} 由 KVL 有：
\begin{equation}
\begin{cases}
    u_1 + u_2 = i_2R_1 \\
    u_1 = (i_1 - i_2)R_2
\end{cases}\Longrightarrow  
\begin{cases}
    i_1 = \frac{R_1 + R_2}{R_1R_2} u_1 + \frac{1}{R_1} u_2 \\ 
    i_2 = \frac{1}{R_1}u_1 + \frac{1}{R_1}u_2
\end{cases},\ 
\boldsymbol{G} = 
\begin{bmatrix}
    \frac{R_1 + R_2}{R_1R_2} & \frac{1}{R_1} \\ 
    \frac{1}{R_1} & \frac{1}{R_1}
\end{bmatrix}
\end{equation}

\textbf{(b)} 设 2 号端口的低电位为 $u$，也即 $u_{2,-} = u$，由 KCL: 
\begin{gather}
\begin{cases}
    i_1 + \frac{u+u_2 - u_1}{R_2} = \frac{u_1 - u}{R_1} \\ 
    \frac{u_1 - u}{R_1} = i_2 + \frac{u}{R_2} \\ 
    \frac{u+u_2}{R_1} + \frac{u}{R_2} = i_1
\end{cases}
\Longrightarrow 
\begin{cases}
    i_1 = \frac{(R_1 + R_2)u_1 + (R_2 - R_1)u_2}{2R_1R_2}\\ 
    i_2 = \frac{(R_2 - R_1)u_1 + (R_1 + R_2)u_2}{2R_1R_2}
\end{cases},\ 
\boldsymbol{G} =
\frac{1}{R_1R_2} 
\begin{bmatrix}
    R_1 + R_2 & R_2 - R_1 \\ 
    R_2 - R_1 & R_1 + R_2
\end{bmatrix}
\end{gather}

\begin{figure}[H]\centering
\includegraphics[width=0.55\textwidth]{assets/3/image (8).jpg}
\caption{ 讲义题 2-20}\label{讲义题 2-20}
\end{figure}


\chapter{Homework 4: 2024.9.19 - 2024.9.24}
\rhead{Homework 4: 2024.9.19 - 2024.9.24}
\thispagestyle{fancy}

\section{讲义题 2-20: 求图示各网络的 和 $\boldsymbol{R}$ 参数}


如图 \ref{求G参数} (a)，对 (a) 电路有：
\begin{equation}
\begin{cases}
    u_1 + u_2 = i_2R_1 \\ 
    u_1 = (i_1 - i_2)R_2 \\ 
\end{cases}
\Longrightarrow 
\begin{cases}
    u_1 = R_2 i_1 + (-R_2)i_2 \\ 
    u_2 = (-R_2)i_1 + (R_1+R_2)i_2
\end{cases},\ 
\boldsymbol{R} = 
\begin{bmatrix}
    R_2 & -R_2 \\ 
    -R_2 & R_1+R_2
\end{bmatrix}
\end{equation}

对 (b) 电路，设 2 号端口的低电位为 $u$，也即 $u_{2,-} = u$，由 KCL: 
\begin{gather}
\begin{cases}
    i_1 + \frac{u+u_2 - u_1}{R_2} = \frac{u_1 - u}{R_1} \\ 
    \frac{u_1 - u}{R_1} = i_2 + \frac{u}{R_2} \\ 
    \frac{u+u_2}{R_1} + \frac{u}{R_2} = i_1
\end{cases}
\Longrightarrow
\begin{cases}
    u_1 + u_2 = R_1i_1 + R_1i_2 \\ 
    u_1 - u_2 = R_2i_1 - R_2i_2
\end{cases} 
\\
\Longrightarrow 
\begin{cases}
    u_1 = \frac{R_1+R_2}{2}i_1 + \frac{R_1-R_2}{2}i_2 \\
    u_2 = \frac{R_1-R_2}{2}i_1 + \frac{R_1+R_2}{2}i_2
\end{cases},\ 
\boldsymbol{R} = 
\begin{bmatrix}
    \frac{R_1+R_2}{2} & \frac{R_1-R_2}{2} \\ 
    \frac{R_1-R_2}{2} & \frac{R_1+R_2}{2}
\end{bmatrix}
\end{gather}



\section{讲义题 2-21: 图示电路中 $R_1 = 10\ \Omega$，$R_2 = 40\ \Omega$，求}

\noindent \textbf{(1)\ \ 此二端口网络的 $\boldsymbol{T}$ 参数：}

$i_1 = \frac{u_2}{R_2} + (-i_2),\quad u_1 = u_2 - R_1(i_2 - \frac{u_2}{R_2})$，得到此二端口的 $\boldsymbol{T}$ 参数：
\begin{equation}
\boldsymbol{T} = 
\begin{bmatrix}
    1 + \frac{R_1}{R_2} & R_1 \\ 
    \frac{1}{R_2} & 1
\end{bmatrix}
=
\begin{bmatrix}
    \frac{5}{4} & 10\  \Omega \\ 
    \frac{1}{40} \ \mathrm{S} & 1
\end{bmatrix}
\end{equation}

\noindent \textbf{(1)\ \ 求 $U_{S1}$ 和 $I_1$}

$(-i_2) = I_2 = 2\ \mathrm{A},\quad u_2 = I_2R_3 = 40\ \mathrm{V}$，代入即得：
\begin{equation}
\begin{bmatrix}
    U_{S1} \\ 
    I_1
\end{bmatrix}
= 
\boldsymbol{T}\cdot 
\begin{bmatrix}
    40\ \mathrm{V} \\ 
    2 \ \mathrm{A}
\end{bmatrix}
= 
\begin{bmatrix}
    70\ \mathrm{V} \\ 
    3 \ \mathrm{A}
\end{bmatrix}
\end{equation}

\begin{figure}[H]\centering
\begin{subfigure}[t]{0.4\columnwidth}\centering
    \includegraphics[height=76pt]{assets/4/ffe92b96174b737b0ba9725eef3dd53e.png}
    \caption{ 讲义题 2-20 图 }
\end{subfigure}\begin{subfigure}[t]{0.6\columnwidth}\centering
    \includegraphics[height=76pt]{assets/4/a3822dcee8e6253ad95a943b6b83e06e.png}
    \caption{ 讲义题 2-21 图 }
\end{subfigure}
\caption{ 讲义题 2-20、讲义题 2-21 }\label{求G参数}
\end{figure}

\section{讲义题 2-22: 图示电路中二端口网络的 $\boldsymbol{T}$ 参数为 $\boldsymbol{T} = \begin{bmatrix} 2 & 8\  \Omega \\ 0.5\ \mathrm{S} & 2.5 \end{bmatrix} $}

\noindent \textbf{(1)\ \ 求此二端口的等效电路}

$\boldsymbol{T}$ 参数满足 $\det \boldsymbol{T} = 5 - 4 = 1$，也即满足互易条件，因此可以等效为 T 型三电阻电路，如图 \ref{讲义题 2-22} 所示。此时的电阻阻值为：
\begin{equation}
R_T = \frac{1}{T_{21}} = 2 \ \Omega,\quad R_a = R_T(T_{11} - 1) = 2\ \Omega,\quad R_b = R_T(T_{22} - 1) = 3\ \Omega
\end{equation}

\noindent \textbf{(1)\ \ $R_2$ 为何值时其获得最大功率}

$R_2$ 吸收的功率为 $p = \frac{u_2^2}{R_2}$，回路总电阻为 $2 + 2 + 2 \parallel (3 + R_2) = 4 + \frac{2(3+R_2)}{5+R_2}$，由分压原理得到 $u_2$:
\begin{equation}
u_2 = 6\cdot \frac{\frac{2(3+R_2)}{5+R_2}}{4 + \frac{2(3+R_2)}{5+R_2}} \cdot \frac{R_2}{ 3 + R_2} = \frac{6}{3+\frac{13}{R_2}}
\end{equation}
于是 $R_2$ 上的功率 $p$ 为：
\begin{equation}
p = \frac{u_2^2}{R_2} = \frac{36}{\frac{13^2}{R_2} + 78 + 9R_2} \leqslant \frac{36}{2\cdot 13 \cdot 3 + 78} \ \mathrm{W} = \frac{9}{39}\ \mathrm{W} = 0.2308 \ \mathrm{W}
\end{equation}
当且仅当 $\frac{13^2}{R_2} = 9R_2$ 取等，此时 $R_2 = \frac{13}{3}\ \Omega$。

事实上，视 $R_2$ 为负载，视电路的剩余部分为电源，可求得电源的内阻（也即输出电阻）为 $R_s = \frac{13}{3}\ \Omega$，因此当 $R_2 = R_s =  \frac{13}{3}\ \Omega$ 时，外部电路（也即负载 $R_2$）有最大功率。 

\begin{figure}[H]\centering
\begin{subfigure}[t]{0.4\columnwidth}\centering
    \includegraphics[height=110pt]{assets/4/199279d29390a5449f7ef5c5dc7f8a3d.png}
    \caption{ 讲义题 2-22 图 }
\end{subfigure}\begin{subfigure}[t]{0.6\columnwidth}\centering
    \includegraphics[height=110pt]{assets/4/2-22.pdf}
    \caption{ 讲义题 2-20 等效电路 }
\end{subfigure}
\caption{ 讲义题 2-22 }
\label{讲义题 2-22}
\end{figure}


\chapter{Homework 5: 2024.9.25 - 2024.10.8}
\rhead{Homework 5: 2024.9.25 - 2024.10.8}
\thispagestyle{fancy}

\section{教材 2-41: 求由 N-E MOS 构成的两输入 NAND 和两输入 NOR 的最大功率，并指出何时有最大功率}

对于 NAND，仅当两输入都为 1 时有静态功率，也即最大功率，设 N-E MOS 的导通电阻为 $R_{\text{ON}}$，外接电阻 $R_L$，电源电压 $U_S$，则功率为：
\begin{equation}
    P_{\,\text{NAND, max}} = \frac{U_S^2}{R_L + 2R_{\text{ON}}}
\end{equation}

对于 NOR，任一输入为 1 时都具有静态功率，两输入都为 1 时有最大功率：
\begin{equation}
    P_{\,\text{NOR, max}} = \frac{U_S^2}{R_L + \frac{R_{\text{ON}}}{2}}
\end{equation}

\section{用两个 N-E MOS、两个 P-E MOS 和电源构成静态功率为零的 NAND}

题意也即 C-MOS NAND，我们不妨直接用 C-MOS 构成三种基本逻辑门（反相器 NOT、或非门 NOR、与非门 NAND），如图 \ref{由 C-MOS 构成三种基本逻辑门} 所示，其中红色表示 P-MOS，蓝色表 N-MOS。

\begin{figure}[H]\centering
    \begin{subfigure}[t]{0.33\columnwidth}\centering
        \includegraphics[height=120pt]{assets/5/CMOS NOT.pdf}
        \caption{ C-MOS NOT }
    \end{subfigure}\hfill
    \begin{subfigure}[t]{0.33\columnwidth}\centering
        \includegraphics[height=120pt]{assets/5/CMOS NOR.pdf}
        \caption{ C-MOS NOR }
    \end{subfigure}
    \begin{subfigure}[t]{0.33\columnwidth}\centering
        \includegraphics[height=120pt]{assets/5/CMOS NAND.pdf}
        \caption{ C-MOS NAND }
    \end{subfigure}
    \caption{ 由 C-MOS 构成三种基本逻辑门 }\label{由 C-MOS 构成三种基本逻辑门}
\end{figure}


\section{半加器、全加器、四位加法器}

\subsection{教材 2-40: 用电源、N-E MOS (最多九个) 和电阻器构成一个半加器 HA}

半加器是一种基本的逻辑电路，用于将两个二进制数相加，输出一个两位的二进制数，表示相加的结果。输出的高位和低位分别称为“进位$C$”、“和位$S$”。也就是说，半加器实际上是“一位加法器”，能够处理两个一位二进制数的相加，并输出一个两位二进制结果。设输入为 $A$ 和 $B$，则有：
\begin{gather}
    Y = (C S)_{(2)} = A_{(2)} + B_{(2)}
    \\
    C = A \cdot B,\quad S = A \oplus B
\end{gather}

由于要求使用的 MOS 尽量少（仅使用 N-MOS），对半加器的逻辑表达式作处理，利用下面式子可得最简半加器（7 个 N-MOS），其数字电路见图 \ref{半加器 HA 数字电路} (a)，实际电路见图 \ref{半加器 HA 实际电路} (a)。
\begin{equation}
    C = \overline{(\overline{A\cdot B})},\quad S = \overline{\left[(A \cdot B) + \overline{(A + B)}\right]}
\end{equation}

当然，考虑到半加器的逻辑表达式，也可以用异或门 XOR 和与门 AND 直接构成半加器，我们采用经过优化的 6 MOS 异或门 XOR（三个 N-MOS 和三个 P-MOS），它的静态功率为 0。由此构成的半加器数字电路见图 \ref{半加器 HA 数字电路} (b)，实际电路见图 \ref{半加器 HA 实际电路} (b)。

\begin{figure}[H]\centering
\begin{subfigure}[t]{0.5\columnwidth}\centering
    \includegraphics[height=80pt]{assets/5/NMOS 半加器数字电路.pdf}
    \caption{ N-MOS HA 数字电路}
\end{subfigure}\hfill
\begin{subfigure}[t]{0.5\columnwidth}\centering
    \includegraphics[height=80pt]{assets/5/CMOS 半加器数字电路.pdf}
    \caption{ C-MOS HA 数字电路 }
\end{subfigure}
\caption{ 半加器 HA 数字电路 }\label{半加器 HA 数字电路}
\end{figure}

\begin{figure}[H]\centering
\begin{subfigure}[t]{0.42\columnwidth}\centering
    \includegraphics[height=165pt]{assets/5/NMOS 半加器实际电路.pdf}
    \caption{ N-MOS HA 实际电路 }
\end{subfigure}\hfill
\begin{subfigure}[t]{0.58\columnwidth}\centering
    \includegraphics[height=160pt]{assets/5/CMOS 半加器实际电路.pdf}
    \caption{ C-MOS HA 实际电路 }
\end{subfigure}
\caption{ 半加器 HA 实际电路 }\label{半加器 HA 实际电路}
\end{figure}

\subsection{用两个半加器 HA 和一个逻辑门构成一个全加器 FA}

由半加器可以进一步构造全加器，全加器是一种能够处理{\color{red} 三个一位二进制数}相加的逻辑电路，输出一个两位的二进制数 $Y= (C_o S)_{(2)}$，表示相加的结果。输出的高位称为进位 $C_o$，低位称为和位 $S$。也就是说，全加器可以理解为“三输入一位加法器”。记全加器的三个输入为 $A$，$B$，$C$，它们都是一位的二进制数，则全加器可写为：
\begin{gather}
Y= (C_oS)_{(2)} = A_{(2)} + B_{(2)} + C_{(2)} 
\\ 
C = A \cdot B + A \cdot C + B \cdot C,\quad 
S = A \oplus B \oplus C
\end{gather}


角标 $(2)$ 表示上式为二进制运算。由两个 HA 和一个 OR 即可构成全加器，数字电路如图 \ref{全加器 FA}。

\begin{figure}[H]\centering
\includegraphics[width=0.65\columnwidth]{assets/5/全加器.pdf}
\caption{ 全加器 FA}\label{全加器 FA}
\end{figure}



\subsection{用四个全加器 FA 构成一个四位加法器}

四位加法器，输入两个四位二进制数 $X$ 和 $Y$，分别记作 $ X= (X_3 X_2 X_1 X_0)_{(2)}$，$ Y=  (Y_3 Y_2 Y_1 Y_0)_{(2)}$，输出一个五位二进制数 $Z = (C S_3 S_2 S_1 S_0)_{(2)}$，代表两数相加的结果。原理及数字电路如图 \ref{四位加法器} 所示。

\begin{figure}[H]\centering
\includegraphics[width=0.9\columnwidth]{assets/5/四位加法器.pdf}
\caption{ 四位加法器}\label{四位加法器}
\end{figure}


\section{习题集 3-20: 用节点法求图中电路的电流 $I$ 和电流源两端电压 $U$}



对电路作等效处理，得到等效电路如图 \ref{5.4 习题集 3-20} (b) 所示，则有节点电压方程组如下式左半边。再任意选取一个节点作为参考节点，这里选择节点 3，即 $U_3 = 0$，可以解得：
\begin{align}
\begin{cases}
    \text{节点 1: } &  \left(\frac{5}{8} + 1\right)U_1 -  \frac{5}{8} U_2 -  U_3 = - 10.75
    \\
    \text{节点 2: } & - \frac{5}{8} U_1 + \left( \frac{5}{8} + \frac{3}{5}\right)U_2 - \frac{3}{5} U_3 = +10.75 
    \\
    \text{节点 3: } & - U_1 - \frac{3}{5} U_2 + \left(1 + \frac{3}{5}\right)U_3 = 0
\end{cases}
\Longrightarrow 
\begin{bmatrix}
    U_1 \\ 
    U_2 \\
    U_3
\end{bmatrix} 
= 
\begin{bmatrix}
    -\frac{129}{32} \ \mathrm{V}\\
    \frac{215}{32} \ \mathrm{V}\\
    0
\end{bmatrix}
\end{align}

返回到原电路，可得电流 $I$ 和电流源两端电压 $U$: 
\begin{equation}
I = \frac{U_2 - 8 - U_3}{2} = -\frac{41}{64} \ \mathrm{A} = -0.640625 \ \mathrm{A},\quad U = U_2 - U_1 + 6 = \frac{67}{4} \ \mathrm{V} = 16.75 \ \mathrm{V}
\end{equation}

\begin{figure}[H]\centering
\begin{subfigure}[t]{0.5\columnwidth}\centering
    \includegraphics[height=120pt]{assets/5/5.4 (1).png}
    \caption{ 题目原电路图 }
\end{subfigure}\hfill
\begin{subfigure}[t]{0.5\columnwidth}\centering
    \includegraphics[height=120pt]{assets/5/5.4 (2).png}
    \caption{ 等效后的最简电路图 }
\end{subfigure}
\caption{ 5.4 习题集 3-20 }\label{5.4 习题集 3-20}
\end{figure}


\section{习题集 3-21: 用节点法求电流源两端电压 $U$ 和各支路电流 }

还是对电路作等效处理，得到等效电路如图 \ref{5.5 习题集 3-21} (b) 所示。这次先选取参考节点再列方程，以节点 0 为参考点，得到：
\begin{equation}
\left(\frac{1}{13.7} + \frac{1}{17.2} + \frac{1}{11.9}\right) U_1 = \frac{5}{13.7} + \frac{15}{17.2} + \frac{10}{11.9} + 1\Longrightarrow U_1 = 14.3024 \ \mathrm{V}
\end{equation}
% \Longrightarrow  0.21517U_1 = 3.07739
于是得到电压 $U$ 和各支路电流：
\begin{align}
U = U_1 + 5.5 = 19.8024 \ \mathrm{V} ,\quad  
I_1 = \frac{U_1 - 5}{13.7} =  0.6790 \ \mathrm{A}\\ 
I_2 = \frac{U_1 - 15}{17.2} = -0.0406 \ \mathrm{A}, \quad 
I_3 = \frac{U_1 - 10}{11.9} = 0.3615 \ \mathrm{A}
\end{align}


\begin{figure}[H]\centering
\begin{subfigure}[t]{0.5\columnwidth}\centering
    \includegraphics[height=120pt]{assets/5/5.5 (1).png}
    \caption{ 题目原电路图 }
\end{subfigure}\hfill
\begin{subfigure}[t]{0.5\columnwidth}\centering
    \includegraphics[height=120pt]{assets/5/5.5 (2).png}
    \caption{ 等效后的最简电路图 }
\end{subfigure}
\caption{ 5.5 习题集 3-21 }\label{5.5 习题集 3-21}
\end{figure}


\section{（选做）讲义题 3-4: 按指定的参考节点，列出电路的节点电压方程}

原题图和等效电路如图 \ref{5.6 讲义题 3-4} 所示，电路中有 4 个节点（不含无伴电压源）和 2 个受控源控制变量，需要列出 3 个节点方程和 2 个控制方程，如下：
\begin{align}
\begin{matrix}
    \text{节点 1: } & (1 + 2)U_1 - U_2 - 0 = 2u-1\\
    \text{节点 2: } & -\frac{1}{2}U_1 + \left(\frac{1}{2} + \frac{1}{4}\right)U_2 - \frac{1}{4}U_3 = 3 i  \\
    \text{节点 3: } &  0-\frac{1}{4}U_2 + \left(1 + \frac{1}{4}\right)U_3 = 1 \\
    \text{控制方程: } & i = \frac{U_1 - U_2}{2},\quad u = U_3
\end{matrix}
\end{align}
代入化简并求解：
\begin{equation}
\begin{cases}
    3U_1 - U_2 -2 U_3 = -1\\ 
    -8U_1 + 9U_2 - U_3 = 0 \\ 
    0 - U_2 + 5U_3 = 1
\end{cases}\Longrightarrow 
\begin{cases}
    U_1 =  -\frac{25}{76}  = -0.3289 \\
    U_2 =  -\frac{21}{76}  = -0.2763 \\
    U_3 = \frac{11}{76}    = 0.1447  
\end{cases}
i = -\frac{1}{38}\ \mathrm{A} = -0.0263 \ \mathrm{A},\quad u = \frac{11}{76} \ \mathrm{V}= 0.1447 \ \mathrm{V}
\end{equation}

\begin{figure}[H]\centering
\includegraphics[width=0.8\columnwidth]{assets/5/5.6.png}
\caption{ 5.6 讲义题 3-4}\label{5.6 讲义题 3-4}
\end{figure}

\section{习题集 3-15: 用回路电流法求图中电路的独立电流源功率}

原电路已无法继续化简，电路中有 3 个网格（含 2 个无伴电流源），1 个受控源变量，共需列出 $3 + 1 = 2$ 个方程。如图 \ref{5.7 习题集 3-15} (a)，先列出三个网格电流方程，如下：
\begin{align}
    \text{网格 1: } & 100 i_1 - 20i_2 - 30i_3 = 0 \\ 
    \text{网格 2: } & i_2 = 1 \\ 
    \text{网格 3: } & i_3 = -0.02 U
\end{align}
又有控制变量 $U$: 
\begin{equation}
0 + U - 20(i_2 - i_1) - 0.4 U = 0 \Longrightarrow U = \frac{100}{3}(i_2 - i_1)
\end{equation}
联立上面四个方程，可以得到：
\begin{equation}
\begin{cases}
    \text{网格 1: } & 100 i_1 - 20i_2 - 30i_3 = 0 \\ 
    \text{网格 2: } & i_2 = 1 \\ 
    \text{网格 3: } & -2 i_1 + 2i_2 +3 i_3 = 0
\end{cases}
\Longrightarrow 
\begin{cases}
    i_1 = 0 \ \mathrm{A} \\ 
    i_2 = 1 \ \mathrm{A} \\ 
    i_3 = -\frac{2}{3} \ \mathrm{A}
\end{cases}
\end{equation}
得到功率 $P$:
\begin{equation}
    P = 1 \ \mathrm{A}\cdot U = \frac{100}{3}(i_2 - i_1) = \frac{100}{3} \ \mathrm{W} = 33.3333 \ \mathrm{W}
\end{equation}

\begin{figure}[H]\centering
\begin{subfigure}[t]{0.5\columnwidth}\centering
    \includegraphics[height=120pt]{assets/5/5.7 (1).png}
    \caption{ 回路电流法 }
\end{subfigure}\hfill
\begin{subfigure}[t]{0.5\columnwidth}\centering
    \includegraphics[height=120pt]{assets/5/5.7 (2).png}
    \caption{ 节点电压法 }
\end{subfigure}
\caption{ 5.7 习题集 3-15 }\label{5.7 习题集 3-15}
\end{figure}

不妨也用节点电压法求解一下此题。如图 \ref{5.7 习题集 3-15} (b)，电路中有 4 个节点（含 1 个无伴电压源）和 1 个（受控源）控制变量，取节点 0 为参考节点，共需列出 $ (4 - 1 - 1) + 0 + 2 = 4$ 个方程，如下：
\begin{align}
\text{节点 1: } & \left(\frac{1}{50} + \frac{1}{20}\right) U_1 - \frac{1}{20}U_2 - \frac{1}{50}U_3 = 1 \\ 
\text{节点 2: } & U_2 = 0.4 U \\
\text{节点 3: } & - \frac{1}{50}U_1 - \frac{1}{30}U_2 + \left(\frac{1}{50} + \frac{1}{30}\right)U_3 = 0.02 U \\ 
\text{控制方程: } & U = U_1
\end{align}
联立上述四个方程，可以得到：
\begin{equation}
\begin{cases}
    \text{节点 1: } & \left(\frac{1}{50} + \frac{1}{20}\right) U_1 - \frac{1}{20}U_2 - \frac{1}{50}U_3 = 1 \\ 
    \text{节点 2: } & -0.4 U_1 + U_2 = 0 \\
    \text{节点 3: } & - \frac{2}{50}U_1 - \frac{1}{30}U_2 + \left(\frac{1}{50} + \frac{1}{30}\right)U_3 = 0
\end{cases}
\Longrightarrow 
\begin{cases}
    U_1 = \frac{100}{3} \ \mathrm{V}\\ 
    U_2 = \frac{40}{3} \ \mathrm{V}\\ 
    U_3 = \frac{100}{3} \ \mathrm{V}
\end{cases}
\Longrightarrow P = 1 \ \mathrm{A}\cdot U = \frac{100}{3} \ \mathrm{W}
\end{equation}

\section{（选做）讲义题 3-8: 列出图中电路的网孔电流方程，并计算受控源的吸收功率}

如图，电路共有 3 个网格（内含 2 个无伴电流源）和 1 个控制变量，将 $i_2$ 和 $i_3$ 合并为超网格后，共需要列出 2 个网格方程、1 个超网格内部方程和 1 个控制方程，如下：
\begin{equation}
\begin{cases}
    \text{网格 1: } & i_1 = 2\\ 
    \text{网格 2,3: } & -3i_1 + (2i_2 + 4i_3) = 4\\ 
    \text{网格 2,3 内部: } & 2i = i_2 - i_3\\ 
    \text{控制方程: } & i = i_3 - i_1
\end{cases}\Longrightarrow 
\begin{cases}
    i_1 = 2 \\ 
    -3i_1 + 2i_2 + 4i_3 = 4 \\
    2i_1 + i_2 - 3i_3 = 0
\end{cases}
\Longrightarrow 
\begin{cases}
    i_1 = 2 \ \mathrm{A}\\ 
    i_2 = 1.4 \ \mathrm{A}\\ 
    i_3 = 1.8 \ \mathrm{A} \\ 
    i = -0.2 \ \mathrm{A}
\end{cases}
\end{equation}
于是得到吸收功率：
\begin{equation}
    P_{i} = 2i \cdot \left[ 0 - \left(4 - 2(i_2 - i_1)\right) \right] = -2.08 \ \mathrm{W}
\end{equation}

\begin{figure}[H]\centering
\includegraphics[width=0.5\columnwidth]{assets/5/5.8.png}
\caption{ 5.8 讲义题 3-8}\label{5.8 讲义题 3-8}
\end{figure}


\chapter{Homework 6: 2024.10.9 - 2024.10.15}
\rhead{Homework 6: 2024.10.9 - 2024.10.15}
\thispagestyle{fancy}

\section{习题集 4-10: 题图电路中电流源 $I_{S1} = 2 \ \mathrm{A}$，$I_{S2}= 3 \ \mathrm{A}$。断开 3 A 电流源，则 2 A 电流源输出 28 W，$U$ = 8 V。断开 2 A 电流源，则 3 A 的电流源输出 54 W，$U$ = 12 V。求两个电流源同时作用时，每个电流源输出的功率。}

仅有 $2 \ \mathrm{A}$ 电流源时，$U_1 = 14 \ \mathrm{V}$，$U_2 = 8 \ \mathrm{V}$；仅有 $3 \ \mathrm{A}$ 电流源时，$U_1 = 12 \ \mathrm{V}$，$U_2 = 18 \ \mathrm{V}$。由叠加定理，两电流源同时作用时：
\begin{equation}
\begin{cases}
    U_1 = 14 + 12 = 26 \ \mathrm{V} \\ 
    U_2 = 8 + 18 = 26 \ \mathrm{V}
\end{cases}
\Longrightarrow 
\boxed{
    \begin{cases}
        P_{2\mathrm{A}} = 2 \cdot 26 = 52 \ \mathrm{W} \\ 
        P_{3\mathrm{A}} = 3 \cdot 26 = 78 \ \mathrm{W}
    \end{cases}
}
\end{equation}
\begin{figure}[H]\centering
\includegraphics[width=0.4\columnwidth]{assets/6/9506aa8f7aeba32072fee006fa1076c7.png}
\caption{ 6.1 习题集 4-10}\label{6.1 习题集 4-10}
\end{figure}

\section{习题集 4-24: 题图电路中，已知 $U_{S1} = 24 \ \mathrm{V},\  U_{S2} = 18 \ \mathrm{V},\ R_1 = 2 \ \Omega,\ R_2 = 1 \ \Omega,\ R_3 = 3 \ \Omega$。}

\subsection{求 $U_{S3} = 15 \ \mathrm{V}$ 时，通过 $R_3$ 的电流}

先求出激励为单个电压源时，通过 $R_3$ 的电流（参考方向标在图 \ref{6.2 习题集 4-24} 中）：
\begin{equation}
U_{S1}:\ I_{R_3} = \frac{24}{11} \ \mathrm{A} ,\quad U_{S2}:\ I_{R_3} = -\frac{36}{11} \ \mathrm{A},\quad U_{S3}:\ I_{R_3} = \frac{3}{11} U_{S3}
\end{equation}
由叠加定理，通过 $R_3$ 的电流为：
\begin{equation}
\boxed{
    I_{R_3} = \frac{24}{11} - \frac{36}{11} + \frac{3}{11} \cdot 15 = 3 \ \mathrm{A}
}
\end{equation}

\begin{figure}[H]\centering
\begin{subfigure}[t]{0.55\columnwidth}\centering
    \includegraphics[height=115pt]{assets/6/a45e47a606698b8a935641ad6e1e5ab9.png}
    \caption{ 原题图 }
\end{subfigure}\hfill
\begin{subfigure}[t]{0.45\columnwidth}\centering
    \includegraphics[height=125pt]{assets/6/0d7f9f1c42f022fbf24925b67ee966d3.png}
    \caption{ 电流参考方向 }
\end{subfigure}
\caption{ 6.2 习题集 4-24}\label{6.2 习题集 4-24}
\end{figure}

\subsection{$R_3$ 为多大时可获得最大功率，值是多少}

此题表述有些问题，既没有说明固定 $U_{S3}$ 的值为多少，也没有强调“功率”的主语，是指“$R_3$ 的功率”还是“电路总功率”，有些模糊不清。不论功率是前者还是后者，必须先给定 $U_{S3}$ 才可计算。所以，我们在这里沿用第一问的条件，假设 $U_{S1} = 15 \ \mathrm{V}$，则各电源（激励）对电阻的电流为：
\begin{align}
    U_{S1}:\quad & 
    I_{R_1} = \frac{U_{S1}}{R_1 + R_2 \parallel R_3},\quad 
    I_{R_2} = I_{R_1}\cdot \frac{R_3}{R_2 + R_3},\quad 
    I_{R_3} = I_{R_1}\cdot \frac{R_2}{R_2 + R_3} \\ 
    U_{S2}:\quad & 
    I_{R_1} =  I_{R_2}\cdot \frac{R_3}{R_1 + R_3},\quad 
    I_{R_2} =\frac{U_{S2}}{R_2 + R_1 \parallel R_3},\quad  
    I_{R_3} = - I_{R_2}\cdot \frac{R_1}{R_1 + R_3} \\ 
    U_{S3}:\quad & 
    I_{R_1} =  I_{R_3}\cdot \frac{R_2}{R_1+ R_2},\quad 
    I_{R_2} = - I_{R_3}\cdot \frac{R_1}{R_1 + R_2} ,\quad 
    I_{R_3} = \frac{U_{S3}}{R_3 + R_1 \parallel R_2}
\end{align}
由叠加定理计算 $R_3$ 的功率和电路总功率：
\begin{equation}
    P_{R_3} = I_{R_3}^2R_3,\quad P = I_{R_1}^2R_1 + I_{R_2}^2R_2 + I_{R_3}^2R_3
\end{equation}
代入数据，做数学上的化简和整理，可得：
\begin{equation}
    P_{R_3} = \frac{1089 R_3}{(3 R_3 + 2)^2} = \frac{1089}{9 R_3 + \frac{4}{R_3} + 12} ,\quad P = \frac{363}{3R_3 + 2 } + 588
\end{equation}
于是：
\begin{center}
    \boxed{
        \begin{matrix}
            \text{
                当 $R_3 = \frac{2}{3} \Omega$ 时，$R_3$ 有最大功率 $P_{R_3, \max} = \frac{363}{8} \ \mathrm{W} = 45.375 \ \mathrm{W}$
            }\\ 
            \text{
                当 $R_3 = 0$ 时，有最大电路总功率 $P_{\max} = \frac{1539}{2} \ \mathrm{W} = 769.5 \ \mathrm{W}$
            }
        \end{matrix}
        }
\end{center}

%\begin{align}
%    U_{S1}:\quad & 
%    I_{R_1} = \frac{96}{11}\ \mathrm{A},\quad 
%    I_{R_2} = \frac{72}{11}\ \mathrm{A},\quad 
%    I_{R_3} = \frac{24}{11} \ \mathrm{A} 
%    \\
%    U_{S2}:\quad & 
%    I_{R_1} = \frac{54}{11}\ \mathrm{A},\quad 
%    I_{R_2} = \frac{90}{11}\ \mathrm{A},\quad 
%    I_{R_3} = -\frac{36}{11} \ \mathrm{A} 
%    \\
%    U_{S3}:\quad & 
%    I_{R_1} = \frac{1}{11}U_{S3},\quad 
%    I_{R_2} = -\frac{2}{11}U_{S3},\quad
%    I_{R_3} = \frac{3}{11} U_{S3}
%\end{align}




\subsection{求使 $R_3$ 中电流为 0 的 $U_{S3}$}

由叠加定理：
\begin{equation}
\boxed{
    \frac{24}{11} - \frac{36}{11} + \frac{3}{11} \cdot U_{S3} = 0 \Longrightarrow U_{S3} = 4 \ \mathrm{V}
}
\end{equation}

\section{习题集 4-36: 题图电路中网络 $A$ 内含有独立电压源、电流源和线性电阻。在 (a) 图中测得 $U_{ab} = 10 \ \mathrm{V}$，(b) 图中测得 $U_{a'b'} = 4 \ \mathrm{V}$，求 (c) 图中的电压 $U_{a''b''}$。}

由戴维南定理，可将网络 $A$ 等效为一个电压源 $U$ 串联一个电阻 $R$，如图 \ref{6.3 习题集 4-36.2} (a) 所示。列出方程：
\begin{equation}
U = 10 - 0.5 R,\quad U - 0.4 R = 4 \Longrightarrow R = \frac{20}{3} \ \Omega,\quad U = \frac{20}{3} \ \mathrm{V}
\end{equation}
作电源等效如图 \ref{6.3 习题集 4-36.2} (b)，求得题图 (c) 中的 $U_{a''b''}$:
\begin{equation}
R_0 = R \parallel 10 \ \Omega \parallel 8 \ \Omega = \frac{8}{3} \ \Omega,\quad I_0 = \frac{U}{R} + 0.5 + 1 = 2.5 \ \mathrm{A} \Longrightarrow 
\boxed{
    U_{a''b''} =  I_0R_0 = \frac{20}{3} \ \mathrm{V} = 6.67 \ \mathrm{V}
}
\end{equation}

\begin{figure}[H]\centering
\includegraphics[width=0.85\columnwidth]{assets/6/image (7).jpg}
\caption{ 6.3 习题集 4-36}\label{6.3 习题集 4-36}
\end{figure}

\begin{figure}[H]\centering
\begin{subfigure}[t]{0.6\columnwidth}\centering
    \includegraphics[height=100pt]{assets/6/acd560ff4ae20eb901019a90b84ef837.png}
    \caption{ 戴维南定理等效 }
\end{subfigure}\hfill
\begin{subfigure}[t]{0.4\columnwidth}\centering
    \includegraphics[height=100pt]{assets/6/7367192b138adaf93ddf5c5fcc94a53b.png}
    \caption{ 等效电源 }
\end{subfigure}
\caption{ 6.3 习题集 4-36 的等效处理}\label{6.3 习题集 4-36.2}
\end{figure}

\section{习题集 4-37: 题图电路方框内为线性电阻网络，测得 $U_S = 8 \ \mathrm{V},\ R = 3 \ \Omega$ 时 $I = 0.5 \ \mathrm{A}$；$U_S = 18 \ \mathrm{V},\ R = 4 \ \Omega$ 时 $I = 1 \ \mathrm{A}$。求 $U_S = 30 \ \mathrm{V},\ R = 5 \ \Omega$ 时的电流 $I$。}

由戴维南定理，将方框内的线性电阻网络与电压源 $U_S$ 等效为一个电压源 $U_0$ 串联一个电阻 $R_0$，如图 \ref{6.4 习题集 4-37} 所示。当 $U_S$ 从 $8 \ \mathrm{V}$ 变为 $18 = \frac{9}{4} \cdot 8\ \mathrm{V}$ 时，由齐性定理，等效后的电压源 $U_0$ 应变为 $\frac{9}{4}U_0$，于是可求得 $U_0$ 和 $R_0$:
\begin{equation}
\begin{cases}
    U_0 = 0.5 (R_0 + 3)\\ 
    \frac{9}{4}U_0 =  R_0 + 4
\end{cases} 
\Longrightarrow 
\begin{cases}
    R_0 = 5 \Omega \\ 
    U_0 = 4 \ \mathrm{V}
\end{cases}
\Longrightarrow 
\boxed{
    I\mid_{R = 5 \Omega} = \left[\frac{ \frac{30}{8} U_0}{R_0 + R}\right]_{R = 5 \Omega} = 1.5 \ \mathrm{A}
}
\end{equation}

\begin{figure}[H]\centering
\includegraphics[width=0.52\columnwidth]{assets/6/0f2c149b099f73467b72503826e5385d.png}
\caption{ 6.4 习题集 4-37}\label{6.4 习题集 4-37}
\end{figure}

\section{（选做）讲义题 3-13: 题图电路中，$R_x = 0$ 时测得 $I_x = 8 \ \mathrm{A}$，$U = 12 \ \mathrm{V}$；$R_x = \infty$ 时测得 $U_x = 36 \ \mathrm{V}$，$U = 6 \ \mathrm{V}$。求出 $R_x = 9 \ \Omega$ 时的 $U_x$ 和 $U$。}

先将除 $R_x$ 外的电路等效为戴维南电路，设戴维南电路的电压源为 $U_1$，电阻为 $R_1$，由题意可得：
\begin{equation}
\begin{cases}
    U_1 = 36 \ \mathrm{V} \\ 
    R_1 = \frac{36}{8} \ \Omega = 4.5 \ \Omega
\end{cases}
\Longrightarrow 
\boxed{
    U_x \mid_{R_x = 9 \Omega} = U_1 \cdot \frac{R_x}{R_1 + R_x} = 24 \ \mathrm{V}
}
\end{equation}

然后用替代定理，将 $R_x$ 替换为电压源 $U_x$。由叠加定理和齐性定理，可得：
\begin{equation}
    U = U' + kU_x
    \Longrightarrow 
\begin{cases}
    U' = 12 \ \mathrm{V} \\ 
    6 = 12 + k \cdot 36
\end{cases}
\Longrightarrow 
\begin{cases}
    U' = 12 \ \mathrm{V} \\ 
    k = -\frac{1}{6}
\end{cases}
\Longrightarrow 
\boxed{
    U\mid_{R_x = 9 \Omega} = 12 - \frac{1}{6} \cdot 24 = 8 \ \mathrm{V}
}
\end{equation}

\begin{figure}[H]\centering
\begin{subfigure}[t]{0.45\columnwidth}\centering
    \includegraphics[height=125pt]{assets/6/image (9).jpg}
    \caption{ 讲义 3-13 题图 }
\end{subfigure}\hfill
\begin{subfigure}[t]{0.55\columnwidth}\centering
    \includegraphics[height=125pt]{assets/6/image (10).jpg}
    \caption{ 讲义 3-18 题图 }
\end{subfigure}
\caption{ 讲义题 3-13、讲义题 3-18 }
\end{figure}

\section{（选做）讲义题 3-18: 题图电路中 OPA 理想，求 ab 端口的诺顿等效电路，以及电流之比 $\frac{i_1}{i_4}$（设ab端开路）。}

由虚短和虚断，$i_4 = \frac{u_s}{R_2} \Longrightarrow U_{ab} = \frac{R_4}{R_2}u_s$，将电压源置零，可得戴维南等效电阻为 $R = R_4$，于是诺顿等效电流为 $i = \frac{U}{R} = \frac{u_s}{R_2}$，如图 \ref{6.6 等效电路、6.7 题图} (a) 所示。并且电流之比：
\begin{equation}
u_s - i_1R_1 = u_s\left(1 + \frac{R_3 + R_4}{R_2}\right) \Longrightarrow  i_1 = - \frac{R_3 + R_4}{R_1R_2}\cdot u_s,\quad 
\boxed{
    \frac{i_1}{i_4} = - \frac{R_3 + R_4}{R_1}
}
\end{equation}

\begin{figure}[H]\centering
\begin{subfigure}[t]{0.5\columnwidth}\centering
    \includegraphics[height=120pt]{assets/6/9d53a9b244bf76e6ad1734869043135a.png}
    \caption{ 6.6 讲义题 3-18 诺顿等效电路 }
\end{subfigure}\hfill
\begin{subfigure}[t]{0.5\columnwidth}\centering
    \includegraphics[height=120pt]{assets/6/2e96a177467ade2ca35ed590fb9751d7.png}
    \caption{ 6.7 习题集 4-47 }
\end{subfigure}
\caption{ 6.6 等效电路、6.7 题图 }\label{6.6 等效电路、6.7 题图}
\end{figure}

\section{习题集 4-47: 图 \ref{6.6 等效电路、6.7 题图} (b) 中，N 为纯电阻网络，已知 $ab$ 端开路电压 $U_o = 8 \ \mathrm{V}$，$ab$ 端纽左端的戴维南等效电阻 $R = 3 \ \Omega$，电压源 $U_S = 10 \ \mathrm{V}$。若 $ab$ 两端接上 $R_L = 2 \ \Omega$ 电阻时，电压源 $U_S$ 供出电流 $I_1$。求当把 $R_L$ 移走之后，电流 $I_1$ 变化多少？} 

由特勒根定理，设电路总支路数为 $b$，由特勒根定理：
\begin{equation}
\sum_{k = 1}^{2} u_k \hat{i}_k + \sum_{k = 3}^{b} u_k \hat{i}_k =  0 = \sum_{k = 1}^{2} \hat{u}_k i_k + \sum_{k = 3}^{b} \hat{u}_k i_k 
\end{equation}
其中支路 $3 \sim b$ 是网络 N 内部的支路，由于 $N$ 为纯电阻网络，有：
\begin{equation}
    \sum_{k = 3}^{b} u_k \hat{i}_k  = \sum_{k = 3}^{b} i_k R_k \hat{i}_k =  \sum_{k = 3}^{b} \hat{u}_k i_k 
\end{equation}
于是内部项可以消去，得到：
\begin{gather}
    u_1\hat{i}_1 + u_2 \hat{i}_2 = \hat{u}_1i_1 + \hat{u}_2 i_2 \Longrightarrow 
U_S I_1' + 0 = U_SI_1 + U_o \frac{U_o}{R_L + R}
\Longrightarrow \\
\boxed{
    \Delta I_1 = \frac{U_o}{U_S}\cdot\frac{U_o}{R_L + R} = 1.28 \ \mathrm{A}
}
\end{gather}


\section{（选做）讲义题 3-20: 题图电路中，$N_R$ 为只含线性电阻的网络，试求解电压 $U_R$。}

$N_R$ 为线性电阻网络，由特勒根定理：
\begin{equation}
    u_1\hat{i}_1 + u_2 \hat{i}_2 = \hat{u}_1i_1 + \hat{u}_2 i_2 \Longrightarrow 
    (-5)\cdot U_R + 1\cdot 10 = 10\cdot \frac{U_R}{2} + 0\Longrightarrow \boxed{
        U_R = 1 \ \mathrm{V}
    }
\end{equation}
无论有没有电源，特勒根定理中对应支路的参考方向相同，且都为关联参考方向。比如说，无论有没有电源，我们都令电压上正下负，电流向下为正。

\begin{figure}[H]\centering
\begin{subfigure}[t]{0.5\columnwidth}\centering
    \includegraphics[height=120pt]{assets/6/940731df99ca203c28371281cebfb9ca.png}
\end{subfigure}\hfill
\begin{subfigure}[t]{0.5\columnwidth}\centering
    \includegraphics[height=120pt]{assets/6/7c27b6b5231748eb023412fd0cbe700c.png}
\end{subfigure}
\caption{ 6.8 讲义题 3-20 }
\end{figure}


\chapter{Homework 7: 2024.10.15 - 2024.10.22}
\rhead{Homework 7: 2024.10.15 - 2024.10.22}
\thispagestyle{fancy}

\section{习题集 5-1: 已知非线性电阻的 $u$-$i$ 关系为 $u = 2i + i^3$（式中 $u$ 的单位是 V，$i$ 的单位是 A），分别求 $i = 1 \ \mathrm{A}$、$i = 2 \ \mathrm{A}$ 时的静态电阻和动态电阻}

\noindent $i = 1 \ \mathrm{A}$ 时：
\begin{equation}
R_s = \frac{u}{i} = 2 + i^2 = 3 \ \Omega,\quad R_d = \frac{du}{di} = 2 + 3i^2 = 5 \ \Omega
\end{equation}
$i = 2 \ \mathrm{A}$ 时：
\begin{equation}
R_s = \frac{u}{i} = 2 + i^2 = 6 \ \Omega,\quad R_d = \frac{du}{di} = 2 + 3i^2 = 14 \ \Omega
\end{equation}


\section{习题集 5-6: 题图 (a) 中非线性电阻的伏安特性如图 (b) 所示，分别求 $i_\text{S} = 1 \ \mathrm{A}$ 和 $i_{\text{S}} = 2 \ \mathrm{A}$ 时的电压 $u$。}

两个非线性电阻两端电压 $u$ 相同，且电流满足 $i_1 + i_2 = i_{\text{S}}$。于是在同一坐标系中画出 $i_1 = i_1(u)$ 和 $i_2 = i_2(u)$ 的图像（$u > 0$），满足  $i_1 + i_2 = i_{\text{S}}$ 的点即为电路的解。由此得到：
\begin{equation}
    i_\text{S} = 1 \ \mathrm{A} \Longrightarrow u = 2 \ \mathrm{V},\quad i_\text{S} = 2 \ \mathrm{A} \Longrightarrow u = 3 \ \mathrm{V}
\end{equation}
\begin{figure}[H]\centering
\includegraphics[width=0.8\columnwidth]{assets/7/7.3 习题集 5-11.png}
\caption{7.3 习题集 5-11 原题图}\label{7.3 习题集 5-11}
\end{figure}

\section{习题集 5-11: 求题图电路中理想二极管 D 所在支路的电路 $i$}
假设二极管导通，即短路，由 KCL:
\begin{equation}
\begin{cases}
    \frac{u - u_1}{40 \K} + \frac{0 - u_1}{60 \K} - I = 0 \\ 
    \frac{u - u_2}{60 \K} + \frac{0 - u_2}{30 \K} + I = 0 \\ 
    I = \frac{u_1 - u_2}{2 \K}
\end{cases}\Longrightarrow 
\begin{cases}
    u_1 = \frac{954}{23} \ \mathrm{V} = 41.4783 \ \mathrm{V}\\ 
    u_2 = \frac{930}{23} \ \mathrm{V} = 40.4348 \ \mathrm{V}\\ 
    I = \frac{12}{23} \mA =  0.52174 \mA
\end{cases}
\end{equation}
与假设相符，因此上式即为所求。


\section{讲义题 4-4: 用理想二极管模型分析题图电路，要求安装题号顺序进行}
\subsection{每个二极管有两种状态（开路、短路），整个电路共有几种可能的状态？}
不考虑电路是否导通的情况下，4 个二极管，每个二极管有 2 种状态，因此共有 $2^4 = 16$ 种可能的状态。

\subsection{电流 $i$ 的方向是怎样的？}
电流 $i$ 始终从上至下流经负载电阻 $R$。

\subsection{沿 (2) 的思路，D1 $\sim$ D4 是怎样的状态是（可能不止一种）才能实现 (2) 中的电流？画出此时的等效电路图。}
注意到此电路为全桥整流电路，借助电流方向可以判断出电路共有 2 种可行状态。在激励的正半周期，D1、D4 导通而 D2、D3 截止；在激励的负半周期，D2、D3 导通而 D1、D4 截止。

\subsection{根据 (1) $\sim$ (3) 的结果，在坐标系中画出 $u_s$ 和 $u$ 随时间变化的曲线图}
二极管理想，因此有如下公式，式中电压的单位是 V，它们的图像如图 \ref{理想图像} 所示。
\begin{equation}
u_s = 12 \sqrt{2} \sin (376.8 t),\quad u = 12 \sqrt{2}  \left| \sin (376.8 t) \right| 
\end{equation}
\begin{figure}[H]\centering
\includegraphics[width=0.75\columnwidth]{assets/7/2024-10-17_00-07-30.pdf}
\caption{$u_s = u_s(t)$ 和 $u = u(t)$ 的图像}\label{理想图像}
\end{figure}

\subsection{用 Multisim 仿真验证前面的分析，要求：(a) 给出仿真电路；(b) 用示波器的两个通道分别显示 $u_s$ 和 $u$；(c) 分析示波器波形与第 (4) 问图像的区别。}

仿真电路图和示波器波形见图 \ref{Multisim 仿真}。由图可知，$u$ 的幅值比理想幅值要低，这是因为我们在电路中选用了具有实际参数的二极管 SURS8105T3G，电流通过实际二极管是有压降的，这消耗了一部分功率，因此 $u$ 的赋值比理想值稍低。

\begin{figure}[H]\centering
\includegraphics[width=0.6\columnwidth]{assets/7/f58e2946a0f20190cc27e51dfb8abb5a.png}
\caption{7.4 讲义题 4-4 原题图}\label{}
\end{figure}
\begin{figure}[H]\centering
\begin{subfigure}[b]{\columnwidth}\centering
    \includegraphics[width=\columnwidth]{assets/7/e6767042d587b4f2ea07f547a007dc1f.png}
    \caption{仿真电路}
\end{subfigure}\hfill
\begin{subfigure}[b]{\columnwidth}\centering
    \includegraphics[width=\columnwidth]{assets/7/d6a5ae36fb1ce8222b2554fb80254b4a.png}
    \caption{示波器波形}
\end{subfigure}
\caption{Multisim 仿真}
\label{Multisim 仿真}
\end{figure}

\subsection{习题集 5-15}\vspace*{-4mm}
\begin{graybox}
电路原理习题集与所有作业课件已上传到网址 \href{https://www.123865.com/s/0y0pTd-L8Kj3}{https://www.123865.com/s/0y0pTd-L8Kj3}，后文不再重复叙述题目。
\end{graybox}

先求电路的工作点 $(U_0, I_0)$，当 $u_s(t) = 0$ 时，由 KVL:
\begin{equation}
10 = I_0\cdot 1 + \left(I_0 + \frac{2}{3}I_0^3\right) \Longrightarrow I_0 = 2.0650 \ \mathrm{A}
\end{equation}
再考虑小信号带来的变化量，在小信号电路中，由 KVL:
\begin{equation}
\begin{cases}
R_d = 
\left.\begin{matrix}
    \frac{\mathrm{d} u }{\mathrm{d} i } 
\end{matrix}\right|_{i = I_0} = 1+2I_0^2 =  9.5281 \ \Omega \\
u_s(t) = (R + R_d)\Delta i
\end{cases}\Longrightarrow 
\Delta i = \frac{1}{10.5281}u_s(t) = 0.0095 \sin (10^3 t) \ \mathrm{A}
\end{equation}
因此总电流为：
\begin{equation}
i = I_0 + \Delta i = 2.0650 \ \mathrm{A} + 0.0095 \sin (10^3 t) \ \mathrm{A}
\end{equation}

\section{讲义题 4-6}\label{讲义题 4-6}
设二极管工作于截止区，这等价于 $u_{GS} < U_T$。而此时 $u_o = 0 \Longrightarrow u_{GS} = 2 \ \mathrm{V} > U_T = 1 \ \mathrm{V}$，矛盾！

假设二极管工作于线性区，这等价于 $u_{GS} > U_T$ 且 $u_{DS} < u_{GS} - U_T$。由题意，二极管导通电阻为 $R_{ON} = 1 \kO$，因此 $u_o = 2.5 \ \mathrm{V} \Longrightarrow u_{GS} = -0.5 \ \mathrm{V} < U_T$，矛盾！因此二极管只能工作在恒流区。

假设二极管工作于恒流区，这等价于 $u_{GS} > U_T$ 且 $u_{DS} > u_{GS} - U_T$。则导通电流为 $i = \frac{K}{2}\left(u_{GS} - u_{T}\right)^2 = \frac{K}{2}\left(1-u_o\right)^2$，由 KVL:
\begin{equation}
u_o = iR_L =  \frac{K}{2}\left(1-u_o\right)^2\cdot R_L\Longrightarrow u_o = 0.6417 \ \mathrm{V},\ \ 1.5583 \ \mathrm{V}
\end{equation}
$u_o = 1.5583 \ \mathrm{V}$ 时 $u_{GS} = 0.4417\ \mathrm{V} < U_T = 1 \ \mathrm{V}$，$u_{DS} = 3.4417 \ \mathrm{V}$，不符合假设，舍去；$u_o = 0.6417 \ \mathrm{V}$ 时 $u_{GS} = 1.3583\ \mathrm{V}$，$u_{DS} = 4.3583 \ \mathrm{V}$，符合假设。因此工作区为恒流区，此时 $u_o = 0.6417 \ \mathrm{V}$。

\section{讲义题 4-7}

\subsection{画出电路，标明各参数}
小信号电路如图 \ref{7.6 讲义题 4-7 电路图} 所示。

\subsection{求小信号放大倍数}

在 $\max | \Delta u_{GS} | = 2 \mV$ 的条件下，容易验证二极管仍工作于恒流区。由 \ref{讲义题 4-6} 讲义题 4-6 可知二极管的工作点为 $u_{GS} = 1.3583 \ \mathrm{V}$，则有：
\begin{gather}
i = \frac{K}{2}\left(u_{GS} - U_T\right)^2,\quad 
g_m = 
\left.\begin{matrix}
    \frac{\mathrm{d} i }{\mathrm{d} u_{GS} } 
\end{matrix}\right|_{u_{GS} = 1.3583 \ \mathrm{V}} = K\cdot(u_{GS} - U_T) = 3.583 \ \times 10^{-3} \mathrm{A\cdot V^{-1}} \\ 
\Longrightarrow 
\Delta u_o = R_L \Delta i = R_L g_m\Delta u_{GS}
\end{gather}
又 $\Delta u_{GS} = \Delta u_{in} - \Delta u_{out}$，代入消去 $\Delta u_{GS}$，得到：
\begin{equation}
\Delta u_{out} = R_L g_m\left(\Delta u_{in} - \Delta u_{out}\right) \Longrightarrow \frac{\Delta u_{out}}{\Delta u_{in}} = \frac{R_L g_m}{1 + R_L g_m} = \frac{3.583}{4.583} = 0.7818
\end{equation}

\begin{figure}[H]\centering
\includegraphics[width=0.8\columnwidth]{assets/7/讲义题4-7.pdf}
\caption{7.6 讲义题 4-7 电路图}\label{7.6 讲义题 4-7 电路图}
\end{figure}



\subsection{求小信号电路的输入电阻和输出电阻,此 MOSFET 的作用是什么？}
在小信号电路中，求输入电阻时无需对输出端口作处理（即保持开路），由于 MOS 管 G 端流入的电流近似为 0，而输入电压 $\Delta u_{in}$ 非零，因此输入电阻为 $R_i = \infty$ 无穷大。

求输出电阻时，将 $\Delta u_{in}$ 短路，并在输出端口加极小的电压 $u$（以保证 MOSFET 仍在工作点附近），于是\ {\color{red} $\Delta u_{GS} = -u$}，有：
\begin{equation}
\begin{cases}
    \Delta u_{GS} = -u \\
    i = \frac{u}{R_L} - \Delta i_{DS} = \frac{u}{R_L} - g_m\Delta u_{GS}
\end{cases}
\Longrightarrow 
R_o = \frac{u}{i} = \frac{1}{\frac{1}{R_L} + g_m} = 218.1977 \ \Omega
\end{equation}
综上有：
\begin{equation}
R_i = \infty,\quad 
R_o = \frac{1}{\frac{1}{R_L} + g_m} =  218.1977 \ \Omega
\end{equation}

由 $\frac{\Delta u_{out}}{\Delta u_{in}} = 0.7818$ 可以看出，MOSFET 降低了激励的微小变化（例如噪声）对响应信号的影响，使得电路更加稳定，可用于构建差分放大器。

查阅资料知道，这是一个共漏放大器，其输出电阻比共源放大器的输出电阻要小。这样的一个放大倍数小于 1，但输出电阻比较小的信号处理单元适合放在整个信号处理电路的最后一级，以增强整个电路的带载能力。此外，由于共漏放大器的输出在 MOSFET 的 S 极，且在 $g_m$ 较大的情况下输入和输出基本相同（输出能够跟随输入），因此该电路也称为源级跟随器。

\chapter{Homework 8: 2024.10.23 - 2024.10.29}
\rhead{Homework 8: 2024.10.23 - 2024.10.29}
\thispagestyle{fancy}

\section{习题集 1-3}

电容有 $q = Cu \Longrightarrow i = C \frac{\mathrm{d} u }{\mathrm{d} t }$，于是：
\begin{center}\noindent\begin{minipage}{0.65\columnwidth}
    \begin{equation}
        i = i(t) = C \frac{\mathrm{d} u }{\mathrm{d} t } = 
        \begin{cases}
            50 \uA  &, t \in [0, 1 \ \mathrm{s}) \\ 
            -250 \uA       &, t \in [1 \ \mathrm{s}, 1.2 \ \mathrm{s}) \\ 
            0 &, t \in [1.2 \ \mathrm{s}, 2 \ \mathrm{s}) \\
            50   \uA    &, t \in [2 \ \mathrm{s}, 3 \ \mathrm{s}) \\
            -250 \uA  &, t \in [3 \ \mathrm{s}, 3.2 \ \mathrm{s}) \\
            0       &, t \in [3.2 \ \mathrm{s}, + \infty) \\
        \end{cases}
        \end{equation}
\end{minipage}\hfill\begin{minipage}{0.35\columnwidth}
\begin{figure}[H]\centering
\includegraphics[width=0.8\columnwidth]{assets/8/0f44a1b99db735634530b6af773398d5_720.jpg}
\caption{$i = i(t)$ 的图像}
\end{figure}
\end{minipage}\end{center}


\section{习题集 1-4}

电感有 $\Psi = Li \Longrightarrow u = L \frac{\mathrm{d} i }{\mathrm{d} t } \Longrightarrow i = i_0 \frac{1}{L} \int_{0}^{t} u \ \mathrm{d}t$。又初始磁能为零，即 $i_0 = 0$，于是有：
\begin{center}\noindent\begin{minipage}{0.65\columnwidth}
\begin{equation}
i = i(t) = 
\begin{cases}
    5 t^2 \ \mathrm{A} &, t \in [0, 1 \ \mathrm{s}) \\
    (-5t^2 + 20 t -10) \ \mathrm{A} &, t \in [1 \ \mathrm{s}, 2 \ \mathrm{s}) \\
    10 \ \mathrm{A} &, t \in [2 \ \mathrm{s}, +\infty) 
\end{cases}
\end{equation}
\end{minipage}\hfill\begin{minipage}{0.35\columnwidth}
\begin{figure}[H]\centering
\includegraphics[width=0.8\columnwidth]{assets/8/8a9f16fc9f5993d3dabf5501a18fec1e_720.jpg}
\caption{$i = i(t)$ 的图像}
\end{figure}
\end{minipage}\end{center}


\chapter{Homework 9: 2024.10.30 - 2024.11.05}
\rhead{Homework 9: 2024.10.30 - 2024.11.05}
\thispagestyle{fancy}

\section{习题集 7-6-a}

为求 $i_1$ 和 $i_C$ 的初始值，考虑 $t = 0^+$ 时的等效电路。$u_{C, 0^+} = u_{C, 0^-} = 10 \ \mathrm{V}$，因此 $t = 0^+$ 时电容 $C$ 相当于一个 $10 \ \mathrm{V}$ 电压源，有：
\begin{gather}
10 + ri_1 - 10 \KO \cdot i_1 - 20\kO \cdot (i_1 + i_S) = 0 \\
\Longrightarrow 
\boxed{
    i_1(0^+) = \frac{10 - 1000}{30\K - 50} \ \mathrm{A} = -33.0551 \mA,\quad i_C(0^+) = -(i_S + i_1) =  -16.9449 \mA
}
\end{gather}

不妨顺手求解一下 $u_C(t)$ 和 $i_C(t)$。对电路作戴维南等效以求解 $u_C$，如图 \ref{9.1 习题集 7-6} (b) 所示，有：
\begin{equation}
U_{\text{oc}} =  0 - (10 \kO - r)\cdot 50\mA = (2.5 - 500) \ \mathrm{V} = - 497.5 \ \mathrm{V},\quad R_{\text{eq}} = 30\kO - r = (30\K - 50) \ \Omega
\end{equation}
依据三要素方法，$u_{C, 0^+} = 10 \ \mathrm{V}$，$\tau = R_{\text{eq}}C$，$u_{C,\infty} = U_{\text{oc}} = - 497.5 \ \mathrm{V}$，可以得到：
\begin{gather}
u_C (t) = u_{C, 0^+}\cdot e^{-\frac{t}{\tau}} + u_{C,\infty}\cdot \left[1 - e^{-\frac{t}{\tau}}\right] = 10 \,e^{-\frac{t}{\tau}} +  U_{\text{oc}}\cdot \left[1 - e^{-\frac{t}{\tau}}\right] \\ 
i_C (t) = C\frac{\mathrm{d} u_C }{\mathrm{d} t }
= -\frac{10}{R_{\text{eq}}} \,e^{-\frac{t}{\tau}} + \frac{U_{\text{oc}}}{R_{\text{eq}}} \,e^{-\frac{t}{\tau}} \\ 
\Longrightarrow i_C (0^+) = \frac{U_{\text{oc}} - 10}{R_{\text{eq}}} = -16.9449 \mA
\end{gather}
可以得到同样的结果。

\begin{figure}[H]\centering
\begin{subfigure}[b]{0.5\columnwidth}\centering
    \includegraphics[height=120pt]{assets/9/9.1 (a).png}
    \caption{原题图}
\end{subfigure}\hfill
\begin{subfigure}[b]{0.5\columnwidth}\centering
    \includegraphics[height=120pt]{assets/9/9.1 (b).png}
    \caption{戴维南等效}
\end{subfigure}
\caption{9.1 习题集 7-6-a}
\label{9.1 习题集 7-6}
\end{figure}


\section{习题集 7-10}
$t = 0$ 时开关断开，于是：
\begin{gather}
    u_{C,0^+}  = -4 \ \mathrm{V},\quad u_{C,\infty} = 0,\quad \tau = 2\kO \cdot C = 50 \ \mathrm{ms}  \\
    \Longrightarrow 
    u_C(t) = u_{C,0^+}\cdot e^{-\frac{t}{\tau}} + u_{C,\infty}\cdot \left[1 - e^{-\frac{t}{\tau}}\right] = -4 \,e^{- \frac{1000}{50} t} \ \mathrm{V} \\
    \boxed{
        u_C(t) = -4 \,e^{-20 t} \ \mathrm{V}
    }
\end{gather}
式中 $t$ 的单位是秒 (s)，作出 $u_C(t)$ 的图像，如图 \ref{9.2 习题集 7-10} (b) 所示。
\begin{figure}[H]\centering
\begin{subfigure}[b]{0.5\columnwidth}\centering
    \includegraphics[height=120pt]{assets/9/9.2 (a).png}
    \caption{原题图}
\end{subfigure}\hfill
\begin{subfigure}[b]{0.5\columnwidth}\centering
    \includegraphics[height=140pt]{assets/9/9.2 b.pdf}
    \caption{$u_C = u_C(t)$ 的图像}
\end{subfigure}
\caption{9.2 习题集 7-10}
\label{9.2 习题集 7-10}
\end{figure}

\section{习题集 7-12}
开关闭合前（$t = 0^-$），由电阻分压 $u_{C, 0^-} = 18\cdot \frac{2}{2 + 3}\cdot \frac{1}{2} = \frac{18}{5} \ \mathrm{V}$，$t = 0^+$ 后开关闭合，两个 $3 \kO$ 电阻被短路，且电压源置零（零输入响应），只剩下两个 $3 \kO$ 电阻与电容并联，于是：
\begin{gather}
    u_{C, 0^+} = u_{C, 0^-} = \frac{18}{5} \ \mathrm{V},\quad u_{C, \infty} = 0,\quad \tau = R_{\text{eq}}C = 3 \ \mathrm{ms} \\
    \Longrightarrow 
    u_C(t) = u_{C,0^+}\cdot e^{-\frac{t}{\tau}} + u_{C,\infty}\cdot \left[1 - e^{-\frac{t}{\tau}}\right] = \frac{18}{5} \,e^{-\left(\frac{t}{3}\times 10^3\right)} \ \mathrm{V} \\ 
    \boxed{
        u_C(t) = 3.6 \,e^{-333.3t} \ \mathrm{V},\quad i_1(t) = - \frac{1}{3 \K}u_C(t) = -1.2 \,e^{-333.3t} \ \mathrm{mA}
    }
\end{gather}

\section{习题集 7-17}
作戴维南等效可得 $U_{\text{oc}} = 80 \cdot \left(\frac{1}{5} - \frac{4}{5}\right) = -48 \ \mathrm{V}$，$R_{\text{eq}} = (20 \parallel 80) + (20 \parallel 80) = 32 \ \Omega$。因为是零状态响应，$i_{L,0} = 0$，于是有：
\begin{gather}
    i_{L,0} = 0,\quad i_{L,\infty} = \frac{U_{\text{oc}}}{R_{\text{eq}}} = -1.5 \ \mathrm{A},\quad \tau = \frac{L}{R} = \frac{5}{8} \ \mathrm{ms} =  0.625 \ \mathrm{ms} \\ 
    \Longrightarrow 
    \boxed{
        i_L = -1.5\cdot \left[1 - e^{- \left( \frac{8t}{5}\times 10^3\right)} \ \mathrm{A}\right] =  -1.5  + 1.5\,e^{- 1600 t} \ \mathrm{A}
    }
\end{gather}
作出图像，如图 \ref{9.4 习题集 7-17} (b) 所示。
\begin{figure}[H]\centering
    \begin{subfigure}[b]{0.5\columnwidth}\centering
        \includegraphics[height=140pt]{assets/9/9.4 a.png}
        \caption{原题图}
    \end{subfigure}\hfill
    \begin{subfigure}[b]{0.5\columnwidth}\centering
        \includegraphics[height=145pt]{assets/9/9.4 b.pdf}
        \caption{$i_L = i_L(t)$ 的图像}
    \end{subfigure}
    \caption{9.4 习题集 7-17}
    \label{9.4 习题集 7-17}
\end{figure}

\section{习题集 7-28}
由电压关系可以发现，对电感而言，$2 \ \mathrm{H}$、$5 \ \Omega$ 和 $5 \ \mathrm{V}$ 三个元件构成一个 $RL$ 电路，因此有：
\begin{gather}
    i_{L,0^+} = \frac{10 \ \mathrm{V}}{20 \ \Omega} = 0.5 \ \mathrm{A},\quad i_{L,\infty} = \frac{5 \ \mathrm{V}}{5 \ \Omega} = 1 \ \mathrm{A},\quad \tau = \frac{L}{R} = \frac{2}{5} \ \mathrm{s} =  0.4 \ \mathrm{s} \\ 
    \Longrightarrow 
    i_L(t) = 0.5\, e^{ - 2.5 t} + 1\cdot \left[1 - e^{ - 2.5 t}\right] \ \mathrm{A} = 1 - 0.5 \,e^{ - 2.5 t} \ \mathrm{A}
\end{gather}
对电容而言，两个有伴电压源与其并联（注意有一个 $5 \ \Omega$ 电阻不起作用），戴维南等效得到 $U_{\text{oc}} = \frac{20}{3} \ \mathrm{V}$，$R_{\text{eq}} = \frac{10}{3} \ \Omega$，由于 $u_{C,0^+} = 5 \ \mathrm{V}$，可以得到：
\begin{gather}
    i_{C,0^+} = \frac{\frac{20}{3} - 5}{\frac{10}{3}} = 0.5 \ \mathrm{A}
    ,\quad 
    i_{L,\infty} = 0
    ,\quad 
    \tau = R_{\text{eq}}C = \frac{10}{3} \ \mathrm{s} =  0.333 \ \mathrm{s} \\ 
    \Longrightarrow 
    i_C(t) = 0.5 \,e^{ -0.3t} \ \mathrm{A}
\end{gather}
设流经 $10 \ \mathrm{V}$ 电压源的电流为 $I$，由 KVL 可得 $10 - 10 I - 5(I - i_C) = 5 \Longrightarrow I = \frac{1}{3}i_C + \frac{1}{3}$，于是：
\begin{gather}
i(t) = I - i_C - i_L = -\frac{2}{3}i_C - i_L + \frac{1}{3} = 
- \frac{2}{3} - \frac{1}{3}\,e^{-0.3 t} + 0.5\,e^{-2.5 t} \ \mathrm{A}\\ 
\Longrightarrow 
\boxed{
    i(t) = -0.6667 - 0.3333\,e^{-0.3 t} + 0.5\,e^{-2.5 t} \ \mathrm{A}
}
\end{gather}

\section{习题集 7-35}
\begin{enumerate}
\item $S_1$ 闭合前瞬间 ($t = 0^-$) : $u_C = 1 \ \mathrm{V}$
\item $S_1$ 闭合后瞬间 ($t = 0^+$) : $u_C = 1 \ \mathrm{V}$，$i_C = 1 \ \mathrm{A}$。对电路作戴维南等效，得 $U_{\text{oc}} = 5 \ \mathrm{V}$，$R_{\text{eq}} = 4 \ \Omega$。
\item $t \in (0,\ 1 \ \mathrm{s})$ 的三要素： 
\begin{equation}
\begin{cases}
    \frac{1}{\tau} = \frac{1}{R_{\text{eq}}C} = 1 \Hz \\ 
    u_{C, 0^+} = 1 \ \mathrm{V},\  u_{C, \infty} = 5 \ \mathrm{V} \\ 
    i_{C, 0^+} = 1 \ \mathrm{A},\ i_{C, \infty} = 0
\end{cases}\Longrightarrow 
\begin{cases}
    u_C(t) = 5 + (1 - 5)\cdot e^{-t} = 5 - 4 \,e^{-t} \ \mathrm{V} \\ 
    i_C(t) = 1\cdot e^{-t} \ \mathrm{A} = e^{-t} \ \mathrm{A}
\end{cases}
\end{equation}

\item $S_2$ 闭合前瞬间 ($t = 1^-$) : $u_C = 5 - \frac{4}{e} \ \mathrm{V}$，记其为 $U_1 = 5 - \frac{4}{e} \ \mathrm{V} = 3.5285 \ \mathrm{V}$。
\item $S_2$ 闭合后瞬间 ($t = 1^+$) : $u_C = U_1$，对电路作戴维南等效，得 $U_{\text{oc}} = 4.5 \ \mathrm{V}$，$R_{\text{eq}} = 2 \ \Omega$。于是 $i_C = \frac{4.5 - U_1}{2} $，记作 $I_1 = \frac{4.5 - U_1}{2} = 0.4858 \ \mathrm{A}$。
\item $t \in (1 \ \mathrm{s}, + \infty)$ 的三要素：
\begin{equation}
    \begin{cases}
        \frac{1}{\tau} = \frac{1}{R_{\text{eq}}C} = 2 \Hz \\ 
        u_{C, 0^+} = U_1 = 3.5285 \ \mathrm{V},\  u_{C, \infty} = 4.5 \ \mathrm{V} \\ 
        i_{C, 0^+} = I_1 = 0.4858 \ \mathrm{A},\ i_{C, \infty} = 0
    \end{cases}\Longrightarrow 
    \begin{cases}
        u_C(t) = 4.5 - 0.9715 \,e^{-t} \ \mathrm{V} \\ 
        i_C(t) = i_1\cdot e^{-2(t-1)} \ \mathrm{A} = 0.4858 \,e^{-t} \ \mathrm{A}
    \end{cases}
    \end{equation}
\end{enumerate}
综上，我们有：
\begin{gather}
\boxed{
    u_C(t) = 
    \begin{cases}
        5 - 4 \,e^{-t} \ \mathrm{V} &, t \in [0, 1 \ \mathrm{s}) \\ 
        4.5 - 0.9715 \,e^{-2(t-1)} \ \mathrm{V} &, t \in [1 \ \mathrm{s}, +\infty)
    \end{cases},\quad 
    i_C(t) =
    \begin{cases}
        e^{-t} \ \mathrm{A} &, t \in [0, 1 \ \mathrm{s}) \\ 
        0.4858 \,e^{-2(t-1)} \ \mathrm{A} &, t \in (1 \ \mathrm{s}, +\infty)
    \end{cases}
}
\end{gather}
作出图像，如图 \ref{9.6 习题集 7-35} 所示。

\begin{figure}[H]\centering
\includegraphics[width=\columnwidth]{assets/9/9.6 3.pdf}
\caption{$u_C = u_C(t)$ 和 $i_C = i_C(t)$ 的图像}\label{9.6 习题集 7-35}
\end{figure}

\clearpage  % \newpage 会跑到 include 的 pdf 后面去
\begin{figure}[b]\centering
    \begin{graybox}
    由于时间安排和 \LaTeX 计划调整，后续的几次作业都将在 Notability 上手写，导出为 PDF 后插入到这里。插入前会对 PDF 进行极致压缩，以尽量减小文件体积。
    \end{graybox}
\end{figure}
\begin{figure}[b]\centering
    \begin{graybox}
    由于时间安排和 \LaTeX 计划调整，后续的几次作业都将在 Notability 上手写，导出为 PDF 后插入到这里。插入前会对 PDF 进行极致压缩，以尽量减小文件体积。
    \end{graybox}
\end{figure}
\begin{figure}[b]\centering
    \begin{graybox}
    由于时间安排和 \LaTeX 计划调整，后续的几次作业都将在 Notability 上手写，导出为 PDF 后插入到这里。插入前会对 PDF 进行极致压缩，以尽量减小文件体积。
    \end{graybox}
\end{figure}
\clearpage


\phantomsection % 添加虚拟节, 使得 pdf 书签定位正确
\addcontentsline{toc}{chapter}{Homework 10: 2024.11.06 - 2024.11.12}   
\includepdf[pages=-]{assets/Notability/电路原理 Homework 10 _ 2024.11.06 - 2024.11.12.pdf}



% --------------------------- 仿真作业 --------------------------- %
% >> ------------------------ 仿真作业 ------------------------ << %


\chapter{Simulation 1: 2024.9.10 - 2024.9.24}
\rhead{Simulation 1: 2024.9.10 - 2024.9.24}
\thispagestyle{fancy}

\section{仿真 2-1: 题目详见图 \ref{示意图} (b)}

\subsection{单 OPA 实现电压运算}

电路如图 \ref{单 OPA 实现 电压运算} (a) 所示，接线端示意图见图 \ref{单 OPA 实现 电压运算} (b)。

\begin{figure}[H]\centering
\begin{subfigure}[t]{0.43\textwidth}\centering
    \includegraphics[height=150pt]{assets/3/单OPA.png}
    \caption{ 电路示意图 }
\end{subfigure}\begin{subfigure}[t]{0.43\textwidth}\centering
    \includegraphics[height=150pt]{assets/3/单OPA接线端.png}
    \caption{ 接线端示意图 }
\end{subfigure}
\caption{ 单 OPA 实现 电压运算 }\label{单 OPA 实现 电压运算}
\end{figure}

下面分析其输出特性。由虚断，在 $u_1$ 和 $u_2$ 构成的回路中，设正向流经 $u_2$ 的电流为 $i_2$，则有：
\begin{equation}
i_2 = \frac{u_2 - u_1}{R_1+R_2}
\Longrightarrow  
u_A = u_2 - i_2R_2 = \frac{R_2u_1 + R_1u_2}{R_1 + R_2}
\end{equation}
由虚短，B 点的电势也为 $u_A$，于是：
\begin{equation}
i_3 = \frac{u_3 - u_A}{R_3},\ i_M = \frac{u_A}{R_M} \Longrightarrow  i_f = i_3 - i_M = \frac{u_3 - u_A}{R_3} - \frac{u_A}{R_M} = \frac{u_3}{R_3} - (\frac{1}{R_3} + \frac{1}{R_M})u_A
\end{equation}
由虚断和 KVL:
\begin{equation}
u_o = u_A - i_fR_f = u_A - \frac{R_f}{R_3}u_3 + (\frac{R_f}{R_3} + \frac{R_f}{R_M})u_A = \left( 1 +  \frac{R_f}{R_3} + \frac{R_f}{R_M}\right)u_A - \frac{R_f}{R_3}u_3
\end{equation}
将 $u_A$ 的表达式代入，最终得到：
\begin{equation}
\boxed{
    u_o = \left( 1 +  \frac{R_f}{R_3} + \frac{R_f}{R_M}\right)\frac{1}{\frac{R_1}{R_2} + 1}u_1 
    + \left( 1 +  \frac{R_f}{R_3} + \frac{R_f}{R_M}\right)\frac{\frac{R_1}{R_2}}{\frac{R_1}{R_2} + 1}u_2
    - \frac{R_f}{R_3}u_3
}
\end{equation}
我们需要 $u_1,u_2,u_3$ 前的系数分别为 3, 2, -0.5，于是有：
\begin{equation}
\begin{cases}
    \left( 1 +  \frac{R_f}{R_3} + \frac{R_f}{R_M}\right)\frac{1}{\frac{R_1}{R_2} + 1} = 3 \vspace*{5pt}\\ 
    \vspace*{5pt}
    \left( 1 +  \frac{R_f}{R_3} + \frac{R_f}{R_M}\right)\frac{\frac{R_1}{R_2}}{\frac{R_1}{R_2} + 1} = 2 \\ 
    -\frac{R_f}{R_3} = -0.5
\end{cases}
\Longrightarrow 
\begin{cases}
    R_1 = \frac{2}{3}R_2 &,\ R_2 > 0\\ 
    R_3 = 2R_f,\ R_M = \frac{2}{7}R_f &,\ R_f >0\\
\end{cases}
\end{equation}
为了保持 OPA 的理想性，我们应选择 $\KO$ 量级的电阻，同时，为了降低电路的整体功率，减少消耗，电阻阻值应该尽量大。综合下来，不妨选取 $R_2 = 6 \KO,\ R_f = 3.5 \KO$，此时所有电阻阻值为：
\begin{equation}
R_1 = 4\KO,\ R_2 = 6\KO,\ R_3 = 7\KO,\ R_M = 1\KO,\ R_f = 3.5\KO
\end{equation}

如图 \ref{单 OPA 实现电压运算仿真} (a)，在 Multisim 中进行仿真，得到的结果如下表所示：

% \usepackage[longtable]{multirow}
% \usepackage{longtable}


\begin{longtable}{|c|c|c|c|c|c|c|c|c|c|c|c|c|} 
    \hline
    \multirow{3}{*}{项目} & \multicolumn{3}{c|}{1} & \multicolumn{3}{c|}{2} & \multicolumn{3}{c|}{3} & \multicolumn{3}{c|}{4}  \\* 
    \cline{2-13}
                      & $x,\ u_1$ & $y,\ u_2$ & $z,\ u_3$  & $x,\ u_1$ & $y,\ u_2$ & $z,\ u_3$               &  $x,\ u_1$ & $y,\ u_2$ & $z,\ u_3$             &  $x,\ u_1$ & $y,\ u_2$ & $z,\ u_3$              \\* 
    \cline{2-13}
                      & 1     & 1     & 1      & 1 & 3 & 2              & -2 & 2 & 0             & 3 & 3 & 2               \endfirsthead 
    \hline
    理论输出 $(\mathrm{V})$             & \multicolumn{3}{c|}{$3+2-0.5 = 4.5$}  & \multicolumn{3}{c|}{$3+6-1=8$}  & \multicolumn{3}{c|}{$-6+4-0 = -2$}  & \multicolumn{3}{c|}{$9+6-1=14$}   \\ 
    \hline
    仿真输出 $(\mathrm{V})$     & \multicolumn{3}{c|}{4.50}  & \multicolumn{3}{c|}{8.00}  & \multicolumn{3}{c|}{-2.00}  & \multicolumn{3}{c|}{10.494}   \\
    \hline
\end{longtable}

\begin{figure}[H]\centering
\begin{subfigure}[t]{0.45\textwidth}\centering
    \includegraphics[height=130pt]{assets/3/8a5141629bce86a4810852d0002e5180.png}
    \caption{ 单 OPA 实现电压运算 }
\end{subfigure}\begin{subfigure}[t]{0.53\textwidth}\centering
    \includegraphics[height=130pt]{assets/3/OPA饱和电流.png}
    \caption{ OPA 饱和电压 }
\end{subfigure}
\caption{ 仿真电路图与 OPA 饱和电压 }\label{单 OPA 实现电压运算仿真}
\end{figure}

\begin{figure}[H]\centering
\begin{subfigure}[t]{0.48\textwidth}\centering
    \includegraphics[height=145pt]{assets/3/111.png}
    \caption{ $(x,y,z) = (1,1,1)$ }
\end{subfigure}\begin{subfigure}[t]{0.48\textwidth}\centering
    \includegraphics[height=145pt]{assets/3/132.png}
    \caption{ $(x,y,z) = (1,3,2)$ }
\end{subfigure}
\begin{subfigure}[t]{0.48\textwidth}\centering
    \includegraphics[height=145pt]{assets/3/91f965079537c7c35944182511dce291.png}
    \caption{ $(x,y,z) = (-2,2,0)$ }
\end{subfigure}\begin{subfigure}[t]{0.48\textwidth}\centering
    \includegraphics[height=145pt]{assets/3/def5c414621689edf67e4afb5251cf4a.png}
    \caption{ $(x,y,z) = (3,3,2)$ }
\end{subfigure}
\caption{ 仿真具体结果图 }\label{一个图}
\end{figure}

由表可见，除了最后一组数据，仿真结果与理论结果完全一致。最后一组之所以不同，是因为输出电压 $u_o$ 超出了此 OPA 的饱和电压 $U_{\text{sat}}$，导致输出电压 $u_o = U_{\text{sat}} = 10.494 \mathrm{V}$。如图 \ref{单 OPA 实现电压运算仿真} (b) 所示，此 OPA (LM324ADTBR2G) 的饱和电压为 $10.525 \mathrm{V}$，与解释相符。具体仿真时的结果见图 \ref{一个图}。


\subsection{一些失败的例子}
注意到，减法器是在反相加法器的基础上，串联入电压源（和电阻）改变了 $u_+$ 端的电压。这样，在最终的输出电压 $u_o$ 中，$u_-$ 端的电源电压会带负号，$u_+$ 端的电源电压带正号。用类似的思想，我们可以对减法器进行改造，最终仅用一个 OPA 便实现 $3x+2y-0.5z$ 的电压运算。

一种方法是向 $u_+$ 端再串联一个电压源，使得输出 $u_o$ 中两正一负，然后通过电阻值来调整系数，但是，这样不满足接线端的要求（三正一共地）。另一种方法是向 $u_-$ 端再并联一个电压源，使得输出 $u_o$ 中两负一正（$-u_1,\ -u_2,\ +u_3$），最后通过电阻值来调整系数，但是，这样得到的是两负一正而不是两正一负，虽满足了接线端要求，却不是我们需要的结果。

其实，我们只需要向 $u_+$ 端的电压源再并联一个电压源即可，如图所示。下面分析其输出特性。

\begin{figure}[H]\centering
\begin{subfigure}[t]{0.43\textwidth}\centering
    \includegraphics[height=110pt]{assets/3/失败的例子.png}
    \caption{ 失败的例子 }
\end{subfigure}\begin{subfigure}[t]{0.43\textwidth}\centering
    \includegraphics[height=110pt]{assets/3/image (5).jpg}
    \caption{ 仿真作业 2-1 }
\end{subfigure}
\caption{ 示意图 }\label{示意图}
\end{figure}

在 $u_1, R_1, u_2, R_2 $ 和 $R_M$ 构成的局部电路中，由 KVC 得点 A 处的电势 $u_A$:
\begin{gather*}
\begin{cases}
    u_1 - R_1i_1 - R_M(i_1 + i_2) = 0 \\
u_2 - R_2i_2 - R_M(i_1 + i_2) = 0
\end{cases}
\Longrightarrow 
\begin{cases}
    i_1 = \frac{(R_2+R_M)u_1 - R_Mu_2}{R_1R_2 +R_1R_M + R_2R_M} \\ 
    i_2 = \frac{(R_1+R_M)u_2 - R_Mu_1}{R_1R_2 +R_1R_M + R_2R_M} \\ 
\end{cases}\Longrightarrow 
u_A = \frac{R_2R_Mu_1 + R_1R_Mu_2}{R_1R_2 +R_1R_M + R_2R_M}
\end{gather*}
也即点 B 和非反相输入端的电势 $u_+ = u_B = u_A$。由虚短，$u_- = u_+$，可得电流 $i_3$。再由虚断，经过电阻 $R_f$ 求得 D 点电势，也即输出电压 $u_o$。
\begin{equation}
i_3 = \frac{u_3 - u_-}{R_3} = \frac{1}{R_3}(u_3 - \frac{R_2R_Mu_1 + R_1R_Mu_2}{R_1R_2 +R_1R_M + R_2R_M}) 
\end{equation}
\begin{align}
u_o &= u_A - i_3R_f = (1+\frac{R_f}{R_3})u_A - \frac{R_f}{R_3}u_3 
\\
&= (1+\frac{R_f}{R_3})\cdot \frac{\frac{R_M}{R_1}u_1 + \frac{R_M}{R_2}u_2}{1 + \frac{R_M}{R_1} + \frac{R_M}{R_2}} - \frac{R_f}{R_3}u_3
\\ 
&=\frac{1+\frac{R_f}{R_3}}{1 + \frac{R_M}{R_1} + \frac{R_M}{R_2}}
\left( \frac{R_M}{R_1}u_1 + \frac{R_M}{R_2}u_2  \right) - \frac{R_f}{R_3}u_3
\end{align}
最后调整电阻阻值。为了保持 OPA 的理想性，电阻需要在 $\KO$ 量级，令电阻比例如下：
\begin{equation}
\begin{cases}
    \frac{R_f}{R_3} = 0.5 \\ 
    \frac{1+\frac{R_f}{R_3}}{1 + \frac{R_M}{R_1} + \frac{R_M}{R_2}}\cdot \frac{R_M}{R_1} = 3 \\ 
    \frac{1+\frac{R_f}{R_3}}{1 + \frac{R_M}{R_1} + \frac{R_M}{R_2}}\cdot \frac{R_M}{R_2} = 2
\end{cases}\Longrightarrow 
\begin{cases}
    R_f = \frac{1}{2}R_3 \\ 
    R_1 =  -2R_M\\ 
    R_2 = -\frac{4}{3}R_M
\end{cases}
\end{equation}
显然这不可能实现，舍弃。

\section{仿真 2-2}

仿真电路如图 \ref{负电阻仿真} (a) 所示，对输入电压进行参数扫描，输出通过电压源的电流，得到图 \ref{负电阻仿真} (b)。这里需要注意，在 Multisim 中，电流的参考方向始终是高电势指向低电势（包括电压源），因此，仿真输出中的 I(V11) 是从上往下通过 V11 的电流（而不是从下至上），电压源 V11 的实际电流为 $i = -I(V11)$。

\begin{figure}[H]\centering
\begin{subfigure}[t]{0.47\textwidth}\centering
    \includegraphics[height=140pt]{assets/3/0649949f48a11f77b47f406012e3f7a8.png}
    \caption{ 负电阻仿真电路 }
\end{subfigure}\begin{subfigure}[t]{0.5\textwidth}\centering
    \includegraphics[height=140pt]{assets/3/83d7126e6d74b406acb4bbc94900f2c6.png}
    \caption{ $I$（纵轴）$U$（横轴）关系 }
\end{subfigure}
\caption{ 负电阻仿真 }\label{负电阻仿真}
\end{figure}

简记电压源 V11 的电压为 $u$，继续仿真输出电压 $u_o$ 关于输入电压 $u$ 的变化，将数据导出后在 Matlab 中绘制曲线，如图 \ref{仿真结果分析} (a)。再将 $I-U$ 关系转化为 $U-I$ 关系，如图 \ref{仿真结果分析} (b)。可以发现，在线性工作区内，电路表现为负阻。而线性区外的两段折线位于 OPA 的饱和区，此时 $u_o$ 始终为饱和电压，电路呈现正电阻，且阻值为:
\begin{equation}
\begin{cases}
    i = \frac{u - U_{\text{sat}}}{R_1} &, u > 3.54\ \mathrm{V} \\ 
    i = \frac{u + U_{\text{sat}}}{R_1} &, u < -4.05 \ \mathrm{V} \\ 
\end{cases}\Longrightarrow 
R_{\text{sat}} = R_1 = 10 \KO
\end{equation}
这与图 \ref{仿真结果分析} (b) 中曲线的斜率是相符的。而在线性区，负电阻 $R = -\frac{10 \KO}{10 \KO} \cdot 5 \KO = - 5 \KO$，这也是符合的。

\begin{figure}[H]\centering
\begin{subfigure}[t]{0.52\textwidth}\centering
    \includegraphics[height=175pt]{assets/3/2024-09-13_01-13-08.png}
    \caption{ $u_o$ 与 $i$ 关于 $u$ 的变化}
\end{subfigure}\begin{subfigure}[t]{0.47\textwidth}\centering
    \includegraphics[height=170pt]{assets/3/2024-09-13_01-13-52.png}
    \caption{ $U$-$I$ 关系（VCR）}
\end{subfigure}
\caption{ 仿真结果分析 }\label{仿真结果分析}
\end{figure}



\chapter{Simulation 2: 2024.10.22 - 2024.11.7}
\rhead{Simulation 2: 2024.10.11 - 2024.10.31}
\thispagestyle{fancy}

\section{放大器设计}

考虑如图 \ref{共源放大器} (a) 所示的共源放大器，图 \ref{共源放大器} (b) 是其等效电路图和小信号电路（已默认 MOSFET 工作在恒流区）。我们需要 MOSFET 工作在恒流区，因此有第一个限制条件：
\begin{equation}
u_{DS} > u_{GS} - U_T > 0
\end{equation}
为了确保 MOSFET 不在截止区，不妨将上面的限制改为 $u_{DS} > u_{GS} - 1.3\ U_T > 0$。
设输入信号的直流偏置为 $U_0$（GS 端的直流电压），即输入信号 $u_{\text{in}} = U_0 + U_m \sin (\omega t + \varphi)$，小信号放大倍数为 $A$，则有：
\begin{equation}
\begin{cases}
    g_m = \left[\frac{\mathrm{d} i_{DS} }{\mathrm{d} u_{GS} }\right]_{u_{GS} = U_0} = K\left(U_0 - U_T\right)\\
    \Delta u_{DS} = -g_m R_L \Delta u_{GS}
\end{cases}
\Longrightarrow
A = \frac{\Delta u_{DS}}{\Delta u_{GS}} = - KR_L (U_0 - U_T)
\end{equation}
这是第二个限制条件。对图 \ref{共源放大器} (a)，设右侧电压源的电压为 $U_S$ (在本题中是 $12 \ \mathrm{V}$)，则有：
\begin{equation}
u_{DS} = U_S - i_{DS}R_L
\end{equation}
三个限制条件联立，可以得到：
\begin{equation}
R_L = \frac{| A |}{K(U_0 - U_T)},\quad U_0 \in \left(1.3\ U_T,\ U_T + \frac{2}{2 + A}U_S\right)
\end{equation}

\begin{figure}[H]\centering
\begin{subfigure}[b]{0.34\columnwidth}\centering
    \includegraphics[height=140pt]{assets/Sim2/Sim2.pdf}
    \caption{Multisim 仿真电路图}
\end{subfigure}\hfill
\begin{subfigure}[b]{0.66\columnwidth}\centering
    \includegraphics[height=140pt]{assets/Sim2/0c2491d420ff4b572ee7b63386c978c9.png}
    \caption{电路图与小信号电路}
\end{subfigure}
\caption{共源放大器}
\label{共源放大器}
\end{figure}


基于上面的理论，可以为电路中各参数选择合适的值。
在两周前的 Lab 1 实验中，我们已经得到了 N 沟道增强型 MOSFET 2N7000 的阈值电压 $U_T = 2.003 \ \mathrm{V}$ 以及 $K = 0.1048 \ \mathrm{A\cdot V^{-2}}$。本次实验的放大倍数为 $A = 20$，还需要确定电阻 $R_L$ 和输入信号的直流偏置 $U_0$ 的值。代入已知数据，可以得到：
\begin{equation}
R_L = \frac{190.8397}{U_0 - 2.003},\quad U_0 \in \left(2.6039 \ \mathrm{V},\  3.0939 \ \mathrm{V}\right)
\end{equation}

不妨分别令 $U_0 = 2.8 \ \mathrm{V}, 2.9 \ \mathrm{V}, 3.0 \ \mathrm{V}$，计算对应的 $R_L$ 电阻值，并在 Multisim 中进行三次仿真，得到的示波器结果如图 \ref{不同参数下的小信号放大仿真结果} 所示。其中绿色是输入信号，红色是放大后的输出信号。需要注意，Multisim 中的 AC Source 的“电压”参数是指有效值而非幅度值，因此，若要使输入小信号幅度为 $10 \mV$，应设置“电压”参数为 $\frac{10}{\sqrt{2}} \mV = 7.0711 \mV$。

由表和图可以知道，理论与实际符合得较好。

\begin{table}[H]\centering
    %\renewcommand{\arraystretch}{1.5} % 调整行间距为 1.5 倍
    %\setlength{\tabcolsep}{1.5mm} % 调整列间距
    \caption{不同参数下的放大倍数}
    \label{不同参数下的放大倍数}
\begin{tabular}{cccccccccc}\toprule
    $U_0$ (V) & $R_L \ (\Omega)$  & $\Delta u_{in}$ (mV) & $\Delta u_{out}$ (mV) & $| A |$  \\
    \midrule
    2.8 & 239.4475 & - 9.9700 & 184.0440 & 18.4598 \\
    2.9 & 212.7533 & - 9.9560 & 202.3830 & 20.3277 \\
    3.0 & 191.4139 & - 9.9700 & 213.9680 & 21.4612 \\
    \bottomrule
\end{tabular}
\end{table}
\begin{figure}[H]\centering
    \begin{subfigure}[b]{\columnwidth}\centering
        \includegraphics[width=\columnwidth]{assets/Sim2/27f82881b37a26d47cbed27992e8c8e0.png}
        \caption{$U_0 = 2.8 \ \mathrm{V}$，$R_L = 239.4475 \ \Omega$}
    \end{subfigure}\hfill
    \begin{subfigure}[b]{\columnwidth}\centering
        \includegraphics[width=\columnwidth]{assets/Sim2/f5273a2abd08cf930292d4358b4e5574.png}
        \caption{$U_0 = 2.9 \ \mathrm{V}$，$R_L = 212.7533 \ \Omega$}
    \end{subfigure}
    \begin{subfigure}[b]{\columnwidth}\centering
        \includegraphics[width=\columnwidth]{assets/Sim2/108ed484609fdd2b343605940e0020d9.png}
        \caption{$U_0 = 3.0 \ \mathrm{V}$，$R_L = 191.4139 \ \Omega$}
    \end{subfigure}
    \caption{不同参数下的小信号放大仿真结果}\label{不同参数下的小信号放大仿真结果}
\end{figure}

经过多次尝试，发现使理论值和仿真结果符合得极好的一组参数值为 $U_T = 2.35 \ \mathrm{V}$ 和 $K = 0.17 \ \mathrm{A\cdot V^{-2}}$，Multisim 中的 2N7000 模型的参数如图 \ref{仿真参数} 所示，我似乎并没有找到与之关联的参数。具体原因有待进一步的探究。

\begin{center}
\noindent\begin{minipage}{0.49\columnwidth}
\begin{figure}[H]\centering
\includegraphics[height=185pt]{assets/Sim2/fcec710ef28b194ff2d459dd7e07c648.png}
\caption{Multisim 中 2N7000 的仿真参数}\label{仿真参数}
\end{figure}
\end{minipage}\hfill\begin{minipage}{0.49\columnwidth}
\begin{figure}[H]\centering
    \includegraphics[height=185pt]{assets/Sim2/226356f87631e83464cfbf9c4f6e9141.png}
    \caption{输出信号发生截止失真的原因}\label{截止失真}
\end{figure}
\end{minipage}\end{center}

\section{放大波形失真的原因}
题目中的波形发生了截止失真，这是信号幅度过大和 $u_{DS}$ 直流偏置过大共同造成的，如图 \ref{截止失真} 所示。当小信号幅度较大，且$u_{DS}$ 的直流偏置也较大时，工作点的振动范围中可能部分包含截止区，此时输出信号呈水平直线，称为“截止失真”，最大不失真输出电压为：
\begin{equation}
    U_{\text{out}, \max} = U_S - \left(U_S - \frac{K}{2}(U_0 - U_T)^2\cdot R_L\right) = \frac{K}{2}(U_0 - U_T)^2\cdot R_L
\end{equation}
其中 $U_0$ 是输入信号的直流偏置电压。在我们的设计中，$R_L = \frac{| A |}{K(U_0 - U_T)}$，代入即得 $U_{\text{out}, \max} = 10 \ \mathrm{V}$，而 $U_0 = 3.0 \ \mathrm{V}$ 时的输出电压范围在 $5.5 \ \mathrm{V}$ 到 $6.0 \ \mathrm{V}$ 之间（由 $i_{DS}$ 的范围即可算出），因此不会出现截止失真。

对本题而言，不存在输入输出信号幅度过大的说法，因此题目中的问题电路可以通过适当调小 $u_{DS}$ 的直流偏置来改善或避免信号失真。由于直流工作点的 $u_{DS}$ 满足：
\begin{equation}
U_{DS} = U_S - i_{DS}R_L = U_S - \frac{KR_L}{2}\left(u_{GS} - U_T\right)^2
\end{equation}
所以调小 $u_{DS}$ 等价于调大 $u_{GS}$，也即调大输入信号的直流电压值 $U_0$。


% --------------------------- 实验作业 --------------------------- %
% >> ------------------------ 实验作业 ------------------------ << %
\captionsetup[figure]{name=Figure}  
\captionsetup[table]{name=Table}







\chapter{Laboratory 1: 2024.10.11 - 2024.10.31}
\rhead{Laboratory 1: 2024.10.11 - 2024.10.31}
\thispagestyle{fancy}

所有 Lab 实验课件（以及作业、仿真课件）见网址 \href{https://www.123865.com/s/0y0pTd-L8Kj3}{https://www.123865.com/s/0y0pTd-L8Kj3}，后文不再重复实验要求和实验题目。

\section{Pre-Lab}

\noindent \textbf{(1)}
The Thevenin and Norton eauivalents of the network:
\begin{gather}
U_{\text{The}} = \frac{R_3U}{R_1 + R_3},\quad R = R_2 + R_1 \parallel R_3 \\ 
I_{\text{Nor}} = \frac{U}{R_1 \left(1 + \frac{R_2}{R_1 \parallel R_3}\right)},\quad R = R_2 + R_1 \parallel R_3
\end{gather}

\noindent \textbf{(2)}
Evaluate the results via $R_1 = 50 \ \Omega$, $R_2 = 1.5 \kO$, $R_3 = 2.2 \kO$:
\begin{gather}
    U_{\text{The}} = 4.8889 \ \mathrm{V},\quad I_{\text{Nor}} = 0.003156 \ \mathrm{A},\quad  R = 1548.8889 \ \Omega
\end{gather}

\noindent \textbf{(3) }
With $U_s = 5 \ \mathrm{V}$, $R_{\text{ON}} = 4 \ \Omega$ and $R_{\text{D}} = 1 \KO$, the output voltage of all combinations of input voltage are shown as below : 

\begin{table}[H]\centering
    %\renewcommand{\arraystretch}{1.5} % 调整行间距为 1.5 倍
    %\setlength{\tabcolsep}{1.5mm} % 调整列间距
    \caption{The output voltage $u_o$ of In-Lab (3)}
    \label{The output voltage of In-Lab (3)}
\begin{tabular}{ccccccccc}\toprule
    Gate & Input voltage $u_i$ & Logic input   & Output voltage $u_o$ (V) & Logic output  \\
    \hline
    NOT  & $< U_T$ & 0 &  $U_s = 5$ & 1 \\
    NOT  & $> U_T$ & 1 &  $\frac{R_{\text{ON}}U_s}{R_{\text{On}}+R_\text{D}} = 0.0199$ & 0 \\
    NOR  & $u_1 < U_T,\ u_2 < U_T $ & (0, 0) & $U_s = 5$ & 1\\
    NOR  & $u_1 > U_T,\ u_2 < U_T $ & (1, 0) & $\frac{R_{\text{ON}}U_s}{R_{\text{On}}+R_\text{D}} = 0.0199$ & 0 \\
    NOR  & $u_1 < U_T,\ u_2 > U_T $ & (0, 1) & $\frac{R_{\text{ON}}U_s}{R_{\text{On}}+R_\text{D}} = 0.0199$ & 0 \\
    NOR  & $u_1 > U_T,\ u_2 > U_T $ & (1, 1) & $\frac{R_{\text{ON}}U_s}{R_{\text{On}}+2R_\text{D}} = 0.0010$ & 0 \\
    NAND & $u_1 < U_T,\ u_2 < U_T $ & (0, 0) & $U_s = 5$ & 1\\
    NAND & $u_1 > U_T,\ u_2 < U_T $ & (1, 0) & $U_s = 5$ & 1\\
    NAND & $u_1 < U_T,\ u_2 > U_T $ & (0, 1) & $U_s = 5$ & 1\\
    NAND & $u_1 > U_T,\ u_2 > U_T $ & (1, 1) & $\frac{2R_{\text{ON}}U_s}{2R_{\text{On}}+R_\text{D}} = 0.0397$ & 0\\
    \bottomrule
\end{tabular}
\end{table}

\noindent \textbf{(4, 5)}
The truth tabel and the circuit diagram are as below:
\begin{center}\noindent\begin{minipage}{0.52\columnwidth}
    \begin{table}[H]\centering
        %\renewcommand{\arraystretch}{1.5} % 调整行间距为 1.5 倍
        %\setlength{\tabcolsep}{1.5mm} % 调整列间距
        \caption{Input-output truth table}
        \label{Input-output truth table}
    \begin{tabular}{cccc}\hline
        Logic input (A, B, C) & Logic output \\
        \hline
        (0, 0, 0) & 1 \\
        (0, 0, 1) & 1 \\
        (0, 1, 0) & 1 \\
        (0, 1, 1) & 1 \\
        (1, 0, 0) & 0 \\
        (1, 0, 1) & 1 \\
        (1, 1, 0) & 1 \\
        (1, 1, 1) & 1 \\
        \hline
    \end{tabular}
    \end{table}
\end{minipage}\hfill\begin{minipage}{0.47\columnwidth}
\begin{figure}[H]\centering
\includegraphics[height=160pt]{assets/Lab1/Pre-Lab (5).pdf}
\caption{The circuit diagram}
\end{figure}
\end{minipage}\end{center}

\section{In-Lab}

\noindent \textbf{(1)  }
The wire connection is shown in the  Figure \ref{The actual circuit connection of In-Lab (1)}, with $R_1 = 51.0 \ \Omega\ (51.0 \ \Omega)$, $R_2 = 1.50 \kO\ (1.47 \kO)$ and $R_3 = 2.40 \kO\ (2.36 \KO)$. Outside parentheses is the original value and the actual measured value is in parentheses.

\begin{figure}[H]\centering
\begin{subfigure}[b]{0.45\columnwidth}\centering
    \includegraphics[height=260pt]{assets/Lab1/IMG_20241017_164811.jpg}
    \caption{Global view}
\end{subfigure}\hfill
\begin{subfigure}[b]{0.55\columnwidth}\centering
    \includegraphics[height=260pt]{assets/Lab1/IMG_20241017_164900.jpg}
    \caption{Partial view}
\end{subfigure}
\caption{The actual circuit connection of In-Lab (1)}
\label{The actual circuit connection of In-Lab (1)}
\end{figure}

\noindent \textbf{(2) }
Use the multi-meter and the open-circuit voltage is 4.89 V and the short-circuit current is 3.17 mA.

\begin{figure}[H]\centering
\begin{subfigure}[b]{0.5\columnwidth}\centering
    \includegraphics[height=140pt]{assets/Lab1/IMG_20241018_180909.jpg}
    \caption{Open-circuit voltage}
\end{subfigure}\hfill
\begin{subfigure}[b]{0.5\columnwidth}\centering
    \includegraphics[height=140pt]{assets/Lab1/IMG_20241018_175823.jpg}
    \caption{Short-circuit current}
\end{subfigure}
\caption{Measure the short-circuit current and open-circuit voltage}
\end{figure}

\noindent \textbf{(3) }
Connect the resistor and measure the port voltage, the results are as below:
\begin{table}[H]\centering
    %\renewcommand{\arraystretch}{1.5} % 调整行间距为 1.5 倍
    %\setlength{\tabcolsep}{1.5mm} % 调整列间距
    \caption{The port voltage}
    \label{The port voltage}
\begin{tabular}{cccccc}\hline
    Resistance ($\Omega$) & 561 (560) & 1.00 K (0.99 K) & 2.20 K (2.19 K) \\
    \hline
    Voltage (V) & 1.30 & 1.92 & 2.89 \\
    \hline
\end{tabular}
\end{table}

\noindent \textbf{(4) }
We use the signal generator to provide the voltage $u_{\text{GS}}$, and the oscilloscope to measure the output voltage $u_{\text{DS}}$.

\begin{figure}[H]\centering
\includegraphics[width=0.85\columnwidth]{assets/Lab1/5fe0d6c923f598052f8d5dd66829ef48.png}
\caption{$u_{\text{DS}}$ starts to fall}
\end{figure}
\begin{figure}[H]\centering
\includegraphics[width=0.85\columnwidth]{assets/Lab1/86cb72928caa02d6d52099c81652c080.png}
\caption{$u_{\text{DS}}$ is reduced to half its original value}
\end{figure}
\begin{figure}[H]\centering
\includegraphics[width=0.85\columnwidth]{assets/Lab1/572997193238edd36d4146fe759619af.png}
\caption{$u_{\text{DS}}$ is almost approaching zero}
\end{figure}

The results are shown in the three figures above. It is $u_{\text{GS}} = 1.442 \ \mathrm{V}$ when $u_{\text{DS}}$ starts to fall, $u_{\text{GS}} = 1.811 \ \mathrm{V}$ when the $u_{\text{DS}}$ is reduced to half its original value, and $u_{\text{GS}} = 2.003 \ \mathrm{V}$ when $u_{\text{DS}}$ is almost approaching zero. To ensure MOSFET is fully on, the threshold voltage should be $U_T = 2.003 \ \mathrm{V}$.

\noindent \textbf{(5) }
The actual wire connection is shown as below.
$R_{\text{DS}} = 2.8 \ \Omega$ when $U_{\text{GS}} = 5 \ \mathrm{V}$ and $R_{\text{DS}} = 8.7 \ \Omega$ when $U_{\text{GS}} = 2 \ \mathrm{V}$.

\begin{figure}[H]\centering
    \begin{subfigure}[b]{0.5\columnwidth}\centering
        \includegraphics[height=170pt]{assets/Lab1/IMG_20241017_174011.jpg}
        \caption{The actual wire connection of In-Lab (5)}
    \end{subfigure}\hfill
    \begin{subfigure}[b]{0.5\columnwidth}\centering
        \includegraphics[height=170pt]{assets/Lab1/IMG_20241017_174040.jpg}
        \caption{The actual wire connection of In-Lab (5)}
    \end{subfigure}
    \caption{}
\end{figure}
    

\noindent \textbf{(6) }
The actual wire connection is shown as below.
$u_o = 4.989 \ \mathrm{V}$ when the switch is closed (logic input 0) and $u_o = 0.018 \ \mathrm{V}$ when the switch is opened (logic input 1).

\begin{figure}[H]\centering
\begin{subfigure}[b]{0.5\columnwidth}\centering
    \includegraphics[height=220pt]{assets/Lab1/IMG_20241017_201914.jpg}
    \caption{Global view}
\end{subfigure}\hfill
\begin{subfigure}[b]{0.5\columnwidth}\centering
    \includegraphics[height=220pt]{assets/Lab1/IMG_20241017_201900.jpg}
    \caption{Partial view}
\end{subfigure}
\caption{The actual wire connection of In-Lab (6)}
\end{figure}

\noindent\textbf{(7, 8)}
Construct the NOR Gate and NAND, measure their output voltage $u_o$ of all combinations of switch positions respectively. The results are as below:
\begin{table}[H]\centering
    %\renewcommand{\arraystretch}{1.5} % 调整行间距为 1.5 倍
    %\setlength{\tabcolsep}{1.5mm} % 调整列间距
    \caption{The output voltage $u_o$ results of In-Lab (7, 8)}
    \label{The output voltage results of In-Lab (7, 8)}
\begin{tabular}{cccccccccc}\toprule
    Gate & Switch positon &  Logic Input & Output voltage (V) \\
    \midrule
    NOR  & (closed, closed) & (0, 0) & 4.989\\
    NOR  & (opened, closed) & (0, 1) & 0.018\\
    NOR  & (closed, opened) & (1, 0) & 0.018\\
    NOR  & (opened, opened) & (1, 1) & 0.00874\\
    NAND & (closed, closed) & (0, 0) & 4.989\\
    NAND & (opened, closed) & (0, 1) & 4.989\\
    NAND & (closed, opened) & (1, 0) & 4.989\\
    NAND & (opened, opened) & (1, 1) & 0.03212\\
    \bottomrule
\end{tabular}
\end{table}

\noindent\textbf{(9)}
The actual wire connection is shown as below.
\begin{figure}[H]\centering
    \begin{subfigure}[h]{0.48\columnwidth}\centering
        \includegraphics[height=180pt]{assets/Lab1/IMG_20241017_205944.jpg}
        \caption{Global view}
    \end{subfigure}\hfill
    \begin{subfigure}[h]{0.48\columnwidth}\centering
        \includegraphics[height=180pt]{assets/Lab1/IMG_20241017_205937.jpg}
        \caption{Partial view 1}
    \end{subfigure}
    \begin{subfigure}[h]{0.48\columnwidth}\centering
        \includegraphics[height=180pt]{assets/Lab1/IMG_20241017_205950.jpg}
        \caption{Partial view 2}
    \end{subfigure}\hfill
    \begin{subfigure}[h]{0.48\columnwidth}\centering
        \includegraphics[height=180pt]{assets/Lab1/IMG_20241017_210003.jpg}
        \caption{Partial view 3}
    \end{subfigure}
    \caption{The actual wire connection of In-Lab (9)}
\end{figure}

\noindent And the measurement results are:

\begin{center}\noindent\begin{minipage}{0.37\columnwidth}
\begin{table}[H]\centering
    %\renewcommand{\arraystretch}{1.5} % 调整行间距为 1.5 倍
    %\setlength{\tabcolsep}{1.5mm} % 调整列间距
    \caption{$u_o$ results of In-Lab (9)}
\begin{tabular}{cccccccccc}\toprule
        (A, B, C) & $u_o$ (V) \\
    \midrule
        (0, 0, 0) & 4.991 \\
        (0, 0, 1) & 4.987 \\
        (0, 1, 0) & 4.987 \\
        (0, 1, 1) & 4.987 \\
        (1, 0, 0) & {\color{red} 0.01962} \\
        (1, 0, 1) & 4.987 \\
        (1, 1, 0) & 4.987 \\
        (1, 1, 1) & 4.987 \\
    \bottomrule
\end{tabular}
\end{table}
\end{minipage}\hfill\begin{minipage}{0.6\columnwidth}
\begin{figure}[H]\centering
\includegraphics[width=\columnwidth]{assets/Lab1/0a4980b937130cf7da2712234599eb2a.png}
\caption{$u_o$ becomes 19.62 mV only when (A, B, C) = (1, 0, 0)}
\end{figure}
\end{minipage}\end{center}


\section{Post-Lab}

\noindent\textbf{(1)}
The Experimental parameters and their actual values is:
\begin{table}[H]\centering
    %\renewcommand{\arraystretch}{1.5} % 调整行间距为 1.5 倍
    %\setlength{\tabcolsep}{1.5mm} % 调整列间距
    \caption{Comparison of the values bewteen Pre-Lab (2) and In-Lab (2)}
\begin{tabular}{cccc}\hline
    Parameter & Theoretical & Experimental & Percentage error \\
    \hline
    $U_{\text{The}}$ (V) & 4.8889     &  4.89   & + 0.02 \%  \\
    $I_{\text{Nor}}$ (mA)& 3.156      &  3.17    & + 0.44 \%  \\
    $R$                  & 1548.8889  & 1542.5868  & - 0.41 \%  \\
    \hline
\end{tabular}
\end{table}
Percentage error $= \frac{y - \hat{y}}{y}$ standing for "Absolute Percentage Error", where $y$ is the experimental value and $\hat{y}$ is the theoretical value.

In Pre-Lab (2), the given theoretical resistance is $R_1 = 50 \ \Omega$, $R_2 = 2.2 \KO$, $R_3 = 1.5 \KO$. However, the actual resistance we used in In-Lab (2) was $R_1 = 51.0 \ \Omega$, $R_2 = 1.47 \kO$ and $R_3 = 2.40 \KO$. Reevaluate the related parameters as below and these should be more realistic results.

\begin{table}[H]\centering
    %\renewcommand{\arraystretch}{1.5} % 调整行间距为 1.5 倍
    %\setlength{\tabcolsep}{1.5mm} % 调整列间距
    \caption{Comparison under the actual values}
    \label{Comparison under the actual values}
\begin{tabular}{cccc}\hline
    Parameter & Actual theoretical & Experimental & Percentage error \\
    \hline
    $U_{\text{The}}$ (V) & 4.8942     &  4.89      & - 0.09 \% \\
    $I_{\text{Nor}}$ (mA)& 3.220      &  3.17      & - 1.58 \% \\
    $R$                  & 1519.921   & 1542.5868  & + 1.47 \% \\
    \hline
\end{tabular}
\end{table}
When using multi-meter as a voltage-meter, as it is not ideal, the  experimental voltage should be slightly lower the theoretical value. Also, the experimental current should be higher than the theoretical. These exactly matches the results in Table \ref{Comparison under the actual values}.


\noindent\textbf{(2)}
According to Table \ref{The port voltage}, the corresponding port current (with the actual resistance) is:

\begin{table}[H]\centering
    %\renewcommand{\arraystretch}{1.5} % 调整行间距为 1.5 倍
    %\setlength{\tabcolsep}{1.5mm} % 调整列间距
    \caption{The port current}
    \label{The port current}
\begin{tabular}{cccccc}\hline
    Resistance ($\Omega$) & 561 (560) & 1.00 K (0.99 K) & 2.20 K (2.19 K) \\
    \hline
    Voltage (V) & 1.30 & 1.92 & 2.89 \\
    current (mA) & 2.3214 & 1.9394 &  1.3196 \\
    \hline
\end{tabular}
\end{table}

\noindent\textbf{(3)}
The port's $i$-$u$ relationship and the data obtained during In-Lab (3) are shown in the Figure \ref{The port's iu relationship} on the top of the next page.

\noindent\textbf{(4)}
According to the data sheet of N-MOSFET 2N7000, $R_{DS-ON}$ is typically $1.7 \ \Omega$ and not eexceeding $7.5 \ \Omega$ when $U_{GS} = 5 \ \mathrm{V}$. Our experimental data is $2.8 \ \Omega$, which is within the range of the data sheet. 

We can know the threshold voltage $U_T$ of 2N7000 is about 2.0 V according to the Figure \ref{The threshold voltage of 2N7000} from the data sheet. The comparison of MOSFET data is shown in Table \ref{Comparison of MOSFET data}.

\begin{center}\noindent\begin{minipage}{0.42\columnwidth}
\begin{figure}[H]\centering
    \includegraphics[height=165pt]{assets/Lab1/2024-10-18_20-04-11.pdf}
    \caption{The port's $i$-$u$ relationship}
    \label{The port's iu relationship}
\end{figure}
\end{minipage}\hfill\begin{minipage}{0.58\columnwidth}
\begin{figure}[H]\centering
    \includegraphics[height=165pt]{assets/Lab1/1dde8392e5bc21535aa77c1f94219773.png}
    \caption{The threshold voltage of 2N7000}
    \label{The threshold voltage of 2N7000}
\end{figure}
\end{minipage}\end{center}


\begin{table}[H]\centering
    %\renewcommand{\arraystretch}{1.5} % 调整行间距为 1.5 倍
    %\setlength{\tabcolsep}{1.5mm} % 调整列间距
    \caption{Comparison of MOSFET data}
    \label{Comparison of MOSFET data}
\begin{tabular}{ccc}\hline
    Type & $R_{DS-ON} \ (\Omega)$ & $U_T$ (V) \\
    \hline
    Data sheet & typical 1.7 and max 7.2 & bewteen 1.85 and 2.5 \\
    Experiment & 2.8 & 2.003 \\
    \hline
\end{tabular}
\end{table}

\noindent\textbf{(5)} With $R_{ON} = 2.8 \ \Omega$ measured during In-Lab (5), we can get the theoretical output voltage of different switch positions, comparing with the experimental values in Table \ref{The output voltage using RON measured during In-Lab (5)}.

\begin{table}[H]\centering
    %\renewcommand{\arraystretch}{1.5} % 调整行间距为 1.5 倍
    %\setlength{\tabcolsep}{1.5mm} % 调整列间距
    \caption{The output voltage $u_o$ using $R_{ON}$ measured during In-Lab (5)}
    \label{The output voltage using RON measured during In-Lab (5)}
\begin{tabular}{ccccccccc}\toprule
    Gate & Input voltage $u_i$ & Logic input   & Theoretical output $u_o$ (V) & Experimental output (V) \\
    \hline
    NOT  & $< U_T$ & 0 &  $U_s = 5$ & 4.989 \\
    NOT  & $> U_T$ & 1 &  $\frac{R_{\text{ON}}U_s}{R_{\text{On}}+R_\text{D}} = 0.0140$ & 0.018 \\
    NOR  & $u_1 < U_T,\ u_2 < U_T $ & (0, 0) & $U_s = 5$ & 4.989\\
    NOR  & $u_1 > U_T,\ u_2 < U_T $ & (1, 0) & $\frac{R_{\text{ON}}U_s}{R_{\text{On}}+R_\text{D}} = 0.014$ & 0.018 \\
    NOR  & $u_1 < U_T,\ u_2 > U_T $ & (0, 1) & $\frac{R_{\text{ON}}U_s}{R_{\text{On}}+R_\text{D}} = 0.014$ & 0.018 \\
    NOR  & $u_1 > U_T,\ u_2 > U_T $ & (1, 1) & $\frac{R_{\text{ON}}U_s}{R_{\text{On}}+2R_\text{D}} = 0.0070$ & 0.009 \\
    NAND & $u_1 < U_T,\ u_2 < U_T $ & (0, 0) & $U_s = 5$ & 4.989 \\
    NAND & $u_1 > U_T,\ u_2 < U_T $ & (1, 0) & $U_s = 5$ & 4.989 \\
    NAND & $u_1 < U_T,\ u_2 > U_T $ & (0, 1) & $U_s = 5$ & 4.989 \\
    NAND & $u_1 > U_T,\ u_2 > U_T $ & (1, 1) & $\frac{2R_{\text{ON}}U_s}{2R_{\text{On}}+R_\text{D}} = 0.0278$ & 0.032\\
    \bottomrule
\end{tabular}
\end{table}

\noindent\textbf{(6)} Suppose the supply voltage is 5 V, to achieve the best symmetric noise margins, we specify the voltage parameters of MOSFET as below:

\begin{table}[H]\centering
    %\renewcommand{\arraystretch}{1.5} % 调整行间距为 1.5 倍
    %\setlength{\tabcolsep}{1.5mm} % 调整列间距
    \caption{Voltage parameters of MOSFET}
    \label{Voltage parameters of MOSFET}
\begin{tabular}{cccccccccc}\toprule
        & Input  & Output &  \\
    \midrule
    Low & $U_{IL} = 1.442 \ \mathrm{V}$  & $U_{OL} = 5 \ \mathrm{V}$  \\
    High & $U_{IH} = 2.003 \ \mathrm{V}$ & $U_{OH} = 0 \ \mathrm{V}$  \\
    \bottomrule
\end{tabular}
\end{table}
When the input voltage is lower than $U_{LI} = 1.442 \ \mathrm{V}$ (logic 0), the MOSFET is off so that the inverter produce a high voltage closed to $U_{OH}=5 \ \mathrm{V}$ (logic 1). On the contrary, when the input voltage is higher than $U_{HI} = 2.003 \ \mathrm{V}$ (logic 1), the MOSFET is on so that the inverter produce a low voltage closed to $U_{OL} = 0 \ \mathrm{V}$ (logic 0).

\chapter{Laboratory 2: }
\rhead{Lab 2: }
\thispagestyle{fancy}

实验课件见网址 \href{}{https://www.123865.com/s/0y0pTd-KRKj3}。

% --------------------------- 其它作业 --------------------------- %
% >> ------------------------ 其它作业 ------------------------ << %





\chapter*{$^*$第二次习题课课前练习}
\rhead{$^*$第二次习题课课前练习}
\thispagestyle{fancy}

\begin{figure}[H]\centering
\includegraphics[width=0.95\columnwidth]{assets/4/16b6858d371dc967c7673595957d383b_720.jpg}
\caption{ 第二次习题课课前练习}\label{第二次习题课课前练习}
\end{figure}

\section{求图示二端口的 $\boldsymbol{G}$ 参数}\thispagestyle{fancy}

由 KVL 和广义 KCL，得到: 
\begin{equation}
\begin{cases}
    (i_1 - 0.5u_1) + (i_2 - 0.5u_2) = 5(0.5u_1) \\ 
    3u_1 + 0.5u_2 = 2i_1 + 2i_2
\end{cases}
\Longrightarrow 
\begin{cases}
    i_1 = \frac{9}{8}u_1 + \frac{5}{8}u_2 \\ 
    i_2 = \frac{15}{8}u_1 - \frac{1}{8}u_2
\end{cases}
,\quad \boldsymbol{G} = 
\begin{bmatrix}
    \frac{8}{9} & \frac{8}{5} \\ 
    \frac{8}{15} & - 8
\end{bmatrix}
\mathrm{S}
\end{equation}

\section{设计一个用于直流信号下的最简二端口（略）}

\section{求图示电路的电压增益与入端电阻}

容易得到：
\begin{equation}
u_o = 2u_i,\quad i = (\frac{1}{R_1} - \frac{1}{R_2})u_i \Longrightarrow A = 2,\quad R_{i} = \frac{1}{\frac{1}{R_1} - \frac{1}{R_2}} = \frac{R_1R_2}{R_2-R_1}
\end{equation}

\section{根据图示电路回答问题}

\begin{enumerate}[label=(\arabic*)]
\item 这是一个（反相）对数运算电路，$u_o = - U_{\text{TH}} \ln \left( \frac{u_i}{I_S R} \right)$
\item 将二极管与电阻 $R$ 的位置互换
\item 依次复合对数运算、线性运算和指数运算，或者依次复合指数运算、线性运算和对数运算
\end{enumerate}

\section{分析下图所示电路的功能}
图示电路是一个简易的 DAC（Digital-Anolog Converter），将数字信号转为模拟信号。考虑到无论输入的数字信号是多少，中间三条支路中的电阻都是接地的，因此各三条支路的电流值是不变的，MOS 管的作用仅是调节电流是否输入到运放，也即是否通过运放上侧的电阻 $R_f = R$，依次调节输出电压 $u_o = -i_fR_f$。

列出方程如下：
\begin{gather}
\begin{cases}
    2i_2R = u_s \\ 
    2i_2R - (i + i_0 + i_1)R = 2i_1R \\ 
    2i_1R - (i + i_0 )R = 2i_0R \\ 
    2i_0R - i(2R) = 0
\end{cases}
\Longrightarrow 
\begin{cases}
    i_2 = \frac{1}{8R} 4u_s \\ 
    i_1 = \frac{1}{8R} 2u_s \\ 
    i_0 = i = \frac{1}{8R} u_s
\end{cases} \\ 
\Longrightarrow 
u_o = - (d_0i_0 + d_1i_1 + d_2i_2)R = -\frac{u_s}{8}\left( d_2\cdot 2^2 + d_1\cdot 2^1 + d_0\cdot 2^0 \right)
\end{gather}




% --------------------------- 附录 --------------------------- %
% >> ------------------------ 附录 ------------------------ << %

\newpage
\appendix
% chapter 标题自定义设置
\titleformat{\chapter}[hang]{\normalfont\huge\bfseries\centering}{}{20pt}{}
\titlespacing*{\chapter}{0pt}{-25pt}{8pt} % 控制上方空白的大小
% section 标题自定义设置 
\titleformat{\section}[hang]{\normalfont\centering\Large\bfseries  }{\thesection}{8pt}{}


% 附录 A
%\chapter*{附录 A\hspace*{20pt}  Matlab 代码}
%\rhead{附录 A \quad  Matlab 代码}
%\setcounter{chapter}{1}     % 重置章节计数器
%\setcounter{equation}{0}    % 重置公式计数器   
%\addcontentsline{toc}{chapter}{附录 A\hspace*{6pt}  Matlab 代码}   
%\thispagestyle{fancy} 
%\setcounter{section}{0}   
%\renewcommand\thesection{A.\arabic{section}}   
%\renewcommand{\thefigure}{A.\arabic{figure}} 
%\renewcommand{\thetable}{A.\arabic{table}}

%\section{图 \ref{振幅系数随入射角的变化} 源码}
%\begin{matlablisting}
%\end{matlablisting}


% >> ------------------------ 附录 ------------------------ << %
% --------------------------- 附录 --------------------------- %


\end{document}



% VScode 常用快捷键：

% F2:                       变量重命名
% Ctrl + Enter:             行中换行
% Alt + up/down:            上下移行
% 鼠标中键 + 移动:           快速多光标
% Shift + Alt + up/down:    上下复制
% Ctrl + left/right:        左右跳单词
% Ctrl + Backspace/Delete:  左右删单词    
% Shift + Delete:           删除此行
% Ctrl + J:                 打开 VScode 下栏(输出栏)
% Ctrl + B:                 打开 VScode 左栏(目录栏)
% Ctrl + `:                 打开 VScode 终端栏
% Ctrl + 0:                 定位文件
% Ctrl + Tab:               切换已打开的文件(切标签)
% Ctrl + Shift + P:         打开全局命令(设置)

% Latex 常用快捷键

% Ctrl + Alt + J:           由代码定位到PDF
% 


% Git提交规范：
% update: Linear Algebra 2 notes
% add: Linear Algebra 2 notes
% import: Linear Algebra 2 notes
% delete: Linear Algebra 2 notes